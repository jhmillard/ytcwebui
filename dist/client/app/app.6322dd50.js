"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}angular.module("ytcwebUirouteApp",["ytcwebUirouteApp.auth","ytcwebUirouteApp.admin","ytcwebUirouteApp.constants","ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","validation.match","ngMaterial","ngMdIcons","md.data.table","ngMessages","gridshore.c3js.chart"]).config(["$urlRouterProvider","$locationProvider","$mdThemingProvider",function(a,b,c){c.theme("altTheme").primaryPalette("blue",{}).warnPalette("orange",{}),a.otherwise("/"),b.html5Mode(!0),c.theme("default").primaryPalette("orange",{"default":"400","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("blue",{"default":"200"})}]).controller("AppCtrl",["$scope","Auth",function(a,b){b.getCurrentUser(function(c){a.isContractor=b.isContractor()})}]).run(["$rootScope","$state","$stateParams","$location","Auth",function(a,b,c,d,e){a.$state=b,a.$stateParams=c,a.$on("$stateChangeSuccess",function(b,c,d,e,f){a.previousState_name=e.name,a.previousState_params=f,a.loading=!1}),a.$on("$stateChangeStart",function(b,c){a.loading=!0,a.authMessage="",a.authToState=c.authenticate,a.isContractor=e.isContractor(),"contractor"!=c.authenticate||e.isContractor()||(a.authMessage="Invalid Authentication",d.path("/main")),"client"!=c.authenticate||e.isClient()||(a.authMessage="Invalid Authentication",d.path("/main"))}),a.back=function(){b.go(a.previousState_name,a.previousState_params)}}]),angular.module("ytcwebUirouteApp.admin",["ytcwebUirouteApp.auth","ui.router"]),angular.module("ytcwebUirouteApp.auth",["ytcwebUirouteApp.constants","ytcwebUirouteApp.util","ngCookies","ui.router"]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("ytcwebUirouteApp.util",[]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("po",{url:"/po",templateUrl:"app/po/po.html",controller:"PoCtrlA",controllerAs:"po",authenticate:"admin"}).state("podtl",{url:"/podtl?poid",templateUrl:"app/po/podtl.html",controller:"PoDtlCtrl",controllerAs:"podtl",params:{poid:{value:"0",squash:!0}},authenticate:"admin"})}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("logout",{url:"/logout?referrer",referrer:"main",template:"",controller:["$state","Auth",function(a,b){console.log("inside sate for logout");var c=a.params.referrer||a.current.referrer||"main";console.log(b.getCurrentUser().name),b.logout(),a.go(c)}]}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupController",controllerAs:"vm"}).state("thankyou",{url:"/thankyou",templateUrl:"app/account/signup/thankyou.html",controller:"ThankyouController",controllerAs:"ty"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsController",controllerAs:"vm",authenticate:!0})}]).run(["$rootScope",function(a){a.$on("$stateChangeStart",function(a,b,c,d){"logout"===b.name&&d&&d.name&&!d.authenticate&&(b.referrer=d.name)})}]),angular.module("ytcwebUirouteApp.admin").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"admin",authenticate:"admin"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),AdmindashCtrl=function(){function a(b,c,d,e,f,g){var h=this;_classCallCheck(this,a),this.myvariable="TEST",this.poUsers=[],this.openPos=[],this.viewPos=[],this.User=d,this.PoStatus=e,this.UserRole=f,this.Invoice=g,this.currentInvoices=[],this.viewInvoices=[],this.invoicequery={order:"name",limit:5,page:1},this.poquery={order:"name",limit:5,page:1},this.currentUser=b.getCurrentUser(),this.setPoData(),this.currentInvoices=this.Invoice.query({},function(){h.setInvoiceData(h.currentInvoices)})}return a.$inject=["Auth","$scope","User","PoStatus","UserRole","Invoice"],_createClass(a,[{key:"setPoData",value:function(){var a=this;this.openPos=this.PoStatus.get({status:"open"},function(){a.currentUsers=a.UserRole.query({role:"contractor"},function(){angular.forEach(a.openPos,function(b,c){var d={};d.dev_hours=0,d.admin_hours=0,d.test_hours=0,d.total_hours=0,d.hours=a.openPos[c].hours,d.poid=a.openPos[c].poid,d._id=a.openPos[c]._id,angular.forEach(a.currentUsers,function(b,c){if(angular.isDefined(a.currentUsers[c].timesheets)){var e=a.currentUsers[c].timesheets;angular.forEach(e,function(a,b){e[b].po.id==d._id&&("dev"==e[b].category&&(d.dev_hours+=e[b].hours,d.admin_hours+=0,d.test_hours+=0),"admin"==e[b].category&&(d.admin_hours+=e[b].hours,d.dev_hours+=0,d.test_hours+=0),"test"==e[b].category&&(d.test_hours+=e[b].hours,d.admin_hours+=0,d.dev_hours+=0))})}}),d.total_hours=d.test_hours+d.admin_hours+d.dev_hours,d.avail_hours=d.hours-d.total_hours,a.viewPos.push(d)})})})}},{key:"setInvoiceData",value:function(a){var b=this,c={},d=0;angular.forEach(a,function(e,f){c.name=a[f].name,c._id=a[f]._id,c.date=a[f].date;var g=a[f].timesheets;angular.forEach(g,function(a,b){d+=g[b].hours}),c.hours=d,b.viewInvoices.push(c),d=0,c={}})}}]),a}();angular.module("ytcwebUirouteApp").controller("AdmindashCtrl",AdmindashCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("admindash",{url:"/admindash",templateUrl:"app/admindash/admindash.html",controller:"AdmindashCtrl",authenticate:"admin",controllerAs:"admindash"}).state("userimg",{url:"/userimg?userid",templateUrl:"app/admindash/userimg.html",controller:"UserImgCtrl",controllerAs:"userimg",authenticate:"admin",params:{userid:{value:"0",squash:!0}}})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),UserImgCtrl=function(){function a(b,c,d,e){_classCallCheck(this,a),this.User=d,this.currentUser=this.User.get({id:e.userid},function(){})}return a.$inject=["Auth","$scope","User","$stateParams"],_createClass(a,[{key:"update",value:function(a){this.User.update(this.currentUser,function(){window.history.back()})}}]),a}();angular.module("ytcwebUirouteApp").controller("UserImgCtrl",UserImgCtrl),function(a,b){a.module("ytcwebUirouteApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular),function(a,b){a.module("ytcwebUirouteApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular);var ClientCtrl=function a(b,c,d,e,f){_classCallCheck(this,a),b.text="Hello",this.clientlist=c.query(),b.selected=[],b.options={autoSelect:!0,boundaryLinks:!1,largeEditDialog:!1,pageSelector:!1,rowSelection:!0},b.query={order:"name",limit:5,page:1},d.previousPage="client"};ClientCtrl.$inject=["$scope","Client","$rootScope","$mdEditDialog","$q"],angular.module("ytcwebUirouteApp").controller("ClientCtrl",ClientCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("client",{url:"/client",templateUrl:"app/client/client.html",controller:"ClientCtrl",controllerAs:"client",authenticate:"admin"}).state("clientdtl",{url:"/clientdtl?clientid",templateUrl:"app/client/clientdtl.html",controller:"ClientDtlCtrl",controllerAs:"clientdtl",params:{clientid:{value:"0",squash:!0}},authenticate:"admin"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientDtlCtrl=function(){function a(b,c,d,e,f){var g=this;_classCallCheck(this,a),c.text="Hello",c.clientStateId=b.clientid,this.$state=d,this.Client=e,this.contacts=f.query(),c.states="AL AK AZ AR CA CO CT DE FL GA HI ID IL IN IA KS KY LA ME MD MA MI MN MS MO MT NE NV NH NJ NM NY NC ND OH OK OR PA RI SC SD TN TX UT VT VA WA WV WI WY".split(" ").map(function(a){return{abbrev:a}}),0==b.clientid?(this.currentclient={},this.submit="Add"):this.currentclient=e.get({id:b.clientid},function(){g.submit="Update"})}return a.$inject=["$stateParams","$scope","$state","Client","User"],_createClass(a,[{key:"cancel",value:function(a){a?this.$state.go(a):this.$state.go("main")}},{key:"register",value:function(a){var b=this;this.submitted=!0,a.$valid&&("Update"==this.submit?this.Client.update(this.currentclient,function(){b.$state.go("client")}):this.Client.save(this.currentclient,function(){b.$state.go("client")}))}}]),a}();angular.module("ytcwebUirouteApp").controller("ClientDtlCtrl",ClientDtlCtrl);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientdashCtrl=function(){function a(b,c,d,e,f){var g=this;_classCallCheck(this,a),this.clientPos=[],this.chartDataJSON=[],this.chartRow={},this.openInvoices=[],this.invoice={},b.getCurrentUser(function(a){g.currentUser=a,c.get({client:g.currentUser._id},function(a){g.clientPos=a,angular.forEach(g.clientPos,function(a,b){g.clientPos[b].total_dev_hours=0,g.clientPos[b].total_admin_hours=0,g.clientPos[b].total_test_hours=0,f.querypo({poid:g.clientPos[b]._id},function(a){angular.forEach(a,function(b,c){g.openInvoices.push(a[c])}),d.get({id:g.clientPos[b].contractor},function(a){g.contractor=a,g.clientPos[b].contractor_name=g.contractor.first_name+" "+g.contractor.last_name,g.clientPos[b].contractor_image=g.contractor.img_url;var c=a.timesheets;angular.forEach(c,function(a,d){c[d].po.id==g.clientPos[b]._id&&("dev"==c[d].category&&(g.clientPos[b].total_dev_hours+=c[d].hours),"admin"==c[d].category&&(g.clientPos[b].total_admin_hours+=c[d].hours),"test"==c[d].category&&(g.clientPos[b].total_test_hours+=c[d].hours))}),g.chartRow.poid=g.clientPos[b].poid,g.chartRow.total_admin_hours=g.clientPos[b].total_admin_hours,g.chartRow.total_dev_hours=g.clientPos[b].total_dev_hours,g.chartRow.total_test_hours=g.clientPos[b].total_test_hours,g.chartDataJSON.push(g.chartRow),g.clientPos[b].hours_used=g.chartRow.total_admin_hours+g.chartRow.total_dev_hours+g.chartRow.total_test_hours;var d=g.clientPos[b].hours_used,e=g.clientPos[b].hours;100*d/e>=90?(g.clientPos[b].warning_high=!0,g.clientPos[b].warning_medium=!1,g.clientPos[b].warning_low=!1):100*d/e>=50?(g.clientPos[b].warning_high=!1,g.clientPos[b].warning_medium=!0,g.clientPos[b].warning_low=!1):(g.clientPos[b].warning_high=!1,g.clientPos[b].warning_medium=!1,g.clientPos[b].warning_low=!0),g.chartRow={},b==g.clientPos.length-1&&g.setchart(g.chartDataJSON)})})})})})}return a.$inject=["Auth","PoClient","User","$filter","Invoice"],_createClass(a,[{key:"setchart",value:function(a){c3.generate({bindto:"#chart1",data:{json:a,keys:{x:"poid",value:["total_dev_hours","total_test_hours","total_admin_hours"]},type:"bar"},axis:{x:{type:"category"}}})}}]),a}();angular.module("ytcwebUirouteApp").controller("ClientdashCtrl",ClientdashCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("clientdash",{url:"/clientdash",templateUrl:"app/clientdash/clientdash.html",authenticate:"client",controller:"ClientdashCtrl",controllerAs:"clientdash"})}]),angular.module("ytcwebUirouteApp").controller("ContPoCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("cont_po",{url:"/cont_po",templateUrl:"app/cont_po/cont_po.html",controller:"ContPoCtrl"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ContractordashCtrl=function(){function a(b,c,d,e,f,g){var h=this;_classCallCheck(this,a),this.clientPos=[],this.contractorClients=[],this.contractorInvoices=[],this.filter="",this.client={},this.chart2=c3,this.filter=e,this.User=d,this.currentClient={},this.all_purchase_orders=!0,this.filtered_purchase_orders=!1,this.inList=!1,this.enteredTimesheets=[],this.timesheetsquery={order:"name",limit:3,page:1},this.currentUser=d.get({id:b.getCurrentUser()._id},function(){h.userJSON=g.getUserTimesheetJSON(h.currentUser),h.generateTimeSeriesChart(),angular.forEach(h.currentUser.timesheets,function(a,b){"entered"==h.currentUser.timesheets[b].status&&h.enteredTimesheets.push(h.currentUser.timesheets[b])}),h.allInvoices=f.query({},function(){h.contractorPos=c.get({contractor:h.currentUser._id},function(){angular.forEach(h.contractorPos,function(a,b){var c=d.get({id:h.contractorPos[b].client},function(){angular.forEach(h.contractorClients,function(a,b){h.contractorClients[b]._id==c._id&&(h.inList=!0)}),h.contractorPos[b].clientImage=c.img_url,0==h.inList&&h.contractorClients.push(c)});angular.forEach(h.allInvoices,function(a,c){if(h.allInvoices[c].po._id==h.contractorPos[b]._id){var d=h.allInvoices[c],e=0,f=0;angular.forEach(d.timesheets,function(a,b){e+=d.timesheets[b].hours,f+=d.timesheets[b].contractor_cost}),h.allInvoices[c].total_hours=e,h.allInvoices[c].total_contractor_cost=f,h.contractorInvoices.push(h.allInvoices[c])}})})})})});var i={};i._id=0,i.client_name="All Clients",this.contractorClients.push(i)}return a.$inject=["Auth","PoContractor","User","$filter","Invoice","Chart"],_createClass(a,[{key:"generateTimeSeriesChart",value:function(){this.chart2.generate({bindto:"#chart1",data:{x:"x",xFormat:"%m/%d/%Y",columns:this.userJSON,labels:!0,type:"area"},subchart:{show:!0},zoom:{enabled:!0},grid:{x:{show:!0},y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%y",rotate:90,fit:!0}},y:{label:"Hours",max:12,tick:{format:d3.format(".0f")}}}})}},{key:"sendEmail",value:function(){this.User.email({stuff:"stuff"},function(){alert("sent email")})}},{key:"setPoList",value:function(){angular.isDefined(this.client._id)&&(0==this.client._id?(this.all_purchase_orders=!0,this.filtered_purchase_orders=!1):(this.all_purchase_orders=!1,this.filtered_purchase_orders=!0,this.filteredPos=this.filter("filter")(this.contractorPos,{client:this.client._id})))}}]),a}();angular.module("ytcwebUirouteApp").controller("ContractordashCtrl",ContractordashCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("contractordash",{url:"/contractordash",templateUrl:"app/contractordash/contractordash.html",controller:"ContractordashCtrl",controllerAs:"contractordash",authenticate:"contractor"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ContractorpoCtrl=function(){function a(b,c,d,e,f,g,h,i){var j=this;_classCallCheck(this,a),c.test="TEST";this.currentPo={},this.currentTimesheets=[],this.hours_used=0,this.hours_invoiced=0,this.show_hours_used=!0,this.show_invoied_chart=!0,this.show_charts=!1,this.chartJSON=[],this.timesheet_show=!1,this.trending_show=!0,this.sumHoursUsed=0;var k=["invoiced","sent","received","paid"];this.disabledTextColor="darkslategrey",this.pohoursTextColor="darkgreen",c.query={order:"short_date",limit:5,page:1},e.get({id:f.poid},function(a){j.currentPo=a,j.currentuser=d.get({id:j.currentPo.contractor},function(){j.poTimesheets=g("filter")(j.currentuser.timesheets,{po:{id:a._id}}),j.sumHoursUsed=i.getPoHoursUsed(j.poTimesheets),j.client=d.get({id:j.currentPo.client},function(){angular.forEach(j.currentuser.timesheets,function(a,b){j.currentuser.timesheets[b].po.id==j.currentPo._id&&(j.show_charts=!0,j.currentTimesheets.push(j.currentuser.timesheets[b]),j.hours_used+=j.currentuser.timesheets[b].hours,k.indexOf(j.currentuser.timesheets[b].status)>=0&&(j.hours_invoiced+=j.currentuser.timesheets[b].hours))}),j.chartJSON=h.returnTimesheetListDataJSON(j.currentTimesheets),j.configureCharts(c,g)})})})}return a.$inject=["Auth","$scope","User","Po","$stateParams","$filter","Chart","PoValue"],_createClass(a,[{key:"toggleTimesheetView",value:function(){this.timesheet_show=!this.timesheet_show}},{key:"toggleTrendingView",value:function(){this.trending_show=!this.trending_show}},{key:"back",value:function(){window.history.back()}},{key:"flip_hours_used",value:function(){this.show_hours_used=!this.show_hours_used}},{key:"configureCharts",value:function(a,b){var c=this,d=100*this.hours_used/this.currentPo.hours;d>=90?(this.gauge_color="red",this.gauge_color_invoiced="yellow",this.gaugue_color_avail="red",this.pohoursTextColor="red"):d>50?(this.gauge_color="orange",this.gauge_color_invoiced="blue",this.gaugue_color_avail="blue"):(this.gauge_color="green",this.gauge_color_invoiced="blue",this.gaugue_color_avail="blue");c3.generate({bindto:"#chart1",data:{columns:[["Hours Used",this.hours_used]],type:"gauge",onclick:function(a,b){c.show_hours_used=!c.show_hours_used},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},gauge:{min:0,max:this.currentPo.hours},color:{pattern:[this.gauge_color],threshold:{values:[0]}}}),c3.generate({bindto:"#chart3",data:{columns:[["Hours Available",this.currentPo.hours-this.hours_used]],type:"gauge",onclick:function(a,b){alert(a)},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},gauge:{min:0,max:this.currentPo.hours},color:{pattern:[this.gaugue_color_avail],threshold:{values:[0]}}}),c3.generate({bindto:"#chart2",data:{columns:[["Hours Invoiced",this.hours_invoiced]],type:"gauge",onclick:function(a,b){c.toggleTrendingView()},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},gauge:{min:0,max:this.currentPo.hours},color:{pattern:[this.gauge_color_invoiced],threshold:{values:[0]}}}),c3.generate({bindto:"#chart4",data:{x:"x",xFormat:"%m/%d/%Y",columns:this.chartJSON,labels:!0,type:"bar"},grid:{x:{show:!0},y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%y",rotate:90,fit:!0}},y:{max:12,tick:{format:d3.format(".0f")}}}})}}]),a}();angular.module("ytcwebUirouteApp").controller("ContractorpoCtrl",ContractorpoCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("contractorpo",{url:"/contractorpo?poid",templateUrl:"app/contractorpo/contractorpo.html",controller:"ContractorpoCtrl",controllerAs:"contractorpo",params:{poid:{value:"0",squash:!0}},authenticate:"contractor"})}]);var InvoiceCtrl=function b(a,c,d){var e=this;_classCallCheck(this,b),this.viewInvoices=[],this.currentInvoices=[],this.iterator=0,this.currentInvoices=d.query({},function(){angular.forEach(e.currentInvoices,function(a,b){var c={},d=0,f=0,g=0,h=0,i=e.currentInvoices[b];c.invoice_id=i._id,c.name=e.currentInvoices[b].name,c.poid=e.currentInvoices[b].po.poid,c.date=e.currentInvoices[b].date,c.status=e.currentInvoices[b].status,angular.forEach(i.timesheets,function(a,b){"dev"==i.timesheets[b].category&&(d+=i.timesheets[b].hours),"admin"==i.timesheets[b].category&&(f+=i.timesheets[b].hours),"test"==i.timesheets[b].category&&(g+=i.timesheets[b].hours),h+=i.timesheets[b].client_revenue}),c.dev_hours=d,c.admin_hours=f,c.test_hours=g,c.total_hours=d+f+g,c.revenue=h,e.viewInvoices.push(c)})})};InvoiceCtrl.$inject=["$stateParams","$state","Invoice"],angular.module("ytcwebUirouteApp").controller("InvoiceCtrl",InvoiceCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("invoice",{url:"/invoice",templateUrl:"app/invoice/invoice.html",controller:"InvoiceCtrl",controllerAs:"invlist",authenticate:"admin"}).state("invoicedtl",{url:"/invoicedtl",templateUrl:"app/invoice/invoicedtl.html",controller:"InvoiceDtlCtrl",controllerAs:"invdtl",params:{invoiceid:{value:"0",squash:!0}},authenticate:"admin"}).state("invoiceview",{url:"/invoiceview?invoice",templateUrl:"app/invoice/invoiceview.html",controller:"InvoiceViewCtrl",controllerAs:"inview",authenticate:"contractor",params:{invoice:{value:"0",squash:!0}}})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),InvoiceDtlCtrl=function(){function a(b,c,d,e,f,g,h){var i=this;_classCallCheck(this,a),this.Invoice=g,this.$state=c,this.$filter=h,this.User=f,this.date=new Date,this.short_date=moment(this.date).format("MM/DD/YYYY"),this.contractor_rate,this.client_rate,this.error_string,this.timesheets=[],this.selected=[],this.users=f.query(function(){i.pos=d.get({status:"open"},function(){angular.forEach(i.pos,function(a,b){i.pos[b].entered_timesheets=0}),i.settimesheets()})}),0==b.invoiceid?(this.currentinvoice={},this.submit="Add"):this.currentinvoice=g.get({id:b.invoiceid},function(){i.currentinvoice.date?i.currentinvoice.date=new Date(i.currentinvoice.date):i.currentinvoice.date=new Date,i.submit="Update"})}return a.$inject=["$stateParams","$state","PoStatus","Po","User","Invoice","$filter"],_createClass(a,[{key:"cancel",value:function(a){window.history.back()}},{key:"settimesheets",value:function(){var a=this;angular.isDefined(this.currentinvoice.po.client)?this.currentClient=this.User.get({id:this.currentinvoice.po.client},function(){a.timesheets=[];var b={};angular.forEach(a.users,function(c,d){var e=a.users[d];angular.isDefined(e.timesheets)&&angular.forEach(e.timesheets,function(c,d){if(angular.isDefined(e.timesheets[d].po.id)&&e.timesheets[d].po.id==a.currentinvoice.po._id&&"entered"==e.timesheets[d].status){var f=parseInt(e.timesheets[d].hours)*parseInt(e.contractor_rate),g=parseInt(e.timesheets[d].hours)*parseInt(a.currentClient.client_rate);b={short_date:e.timesheets[d].short_date,name:e.timesheets[d].po.name,id:e.timesheets[d]._id,user_id:e._id,hours:e.timesheets[d].hours,rate:e.contractor_rate,desc:e.timesheets[d].desc,contractor_name:e.last_name,contractor_cost:f,client_revenue:g,my_revenue:g-f,category:e.timesheets[d].category},a.timesheets.push(b),b={}}})})}):this.timesheets=[]}},{key:"check_error",value:function(){this.selected.length>0&&(this.error_string="")}},{key:"register",value:function(a,b){var c=this;this.submitted=!0,this.currentinvoice.dtimemod=this.short_date,a.$valid&&("Update"==this.submit?this.Invoice.update(this.currentinvoice,function(){c.$state.go("invoice")}):0==this.selected.length?this.error_string="Must Select atleast ONE timesheet":(this.currentinvoice.date=this.short_date,this.currentinvoice.timesheets=this.selected,this.Invoice.save(this.currentinvoice,function(){window.history.back()})))}}]),a}();angular.module("ytcwebUirouteApp").controller("InvoiceDtlCtrl",InvoiceDtlCtrl).filter("sumByKey",function(){return function(a,b){if("undefined"==typeof a||"undefined"==typeof b)return 0;for(var c=0,d=a.length-1;d>=0;d--)c+=parseInt(a[d][b]);return c}});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),InvoiceViewCtrl=function(){function a(b,c,d,e,f,g,h){var i=this;_classCallCheck(this,a),this.invoice_id=b.invoice,this.showList=!0,this.Invoice=e,this.show_delete_invoice=!1,this.showAdmin=!1,this.User=f,this.Po=g,this.Chart=h,this.hoursTotal=0,this.contractorCost=0,this.currentUser=f.get({id:c.getCurrentUser()._id},function(){i.loadData()})}return a.$inject=["$stateParams","Auth","$state","Invoice","User","Po","Chart"],_createClass(a,[{key:"loadData",value:function(){var a=this;this.status=[{type:"entered",desc:"Entered"},{type:"sent",desc:"Sent"},{type:"received",desc:"Received"},{type:"paid",desc:"Paid"}],"admin"==this.currentUser.role&&(this.showAdmin=!0,this.showDelete=!0),this.currentInvoice=this.Invoice.get({id:this.invoice_id},function(){"entered"==a.currentInvoice.status&&(a.progress=25),"sent"==a.currentInvoice.status&&(a.progress=50),"received"==a.currentInvoice.status&&(a.progress=75),"paid"==a.currentInvoice.status&&(a.progress=100),a.po=a.Po.get({id:a.currentInvoice.po._id},function(){a.client=a.User.get({id:a.po.client},function(){a.invoiceContractor=a.User.get({id:a.po.contractor},function(){a.timeSheetArray=[],angular.forEach(a.currentInvoice.timesheets,function(b,c){a.User.get({id:a.currentInvoice.timesheets[c].user_id},function(b){a.currentInvoice.timesheets[c].contractor=b,angular.forEach(b.timesheets,function(d,e){b.timesheets[e]._id==a.currentInvoice.timesheets[c].id&&(a.timeSheetArray.push(b.timesheets[e]),a.hoursTotal+=b.timesheets[e].hours)}),a.chartJSON=a.Chart.returnTimesheetListDataJSON(a.timeSheetArray),a.configureCharts(),a.contractorCost=a.hoursTotal*a.invoiceContractor.contractor_rate})})})})}),"entered"!=a.currentInvoice.status&&(a.showDelete=!1),a.timesheet_length=a.currentInvoice.timesheets.length,0==a.timesheet_length&&(a.show_delete_invoice=!0)})}},{key:"configureCharts",value:function(){c3.generate({bindto:"#chart4",data:{x:"x",xFormat:"%m/%d/%Y",columns:this.chartJSON,labels:!0,type:"area"},grid:{x:{show:!0},y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%y",rotate:90,fit:!0}},y:{max:12,tick:{format:d3.format(".0f")}}}})}},{key:"remove",value:function(a){var b=this,c={};c.timesheet_id=a.id,c.user_id=a.user_id,c.invoice_id=this.currentInvoice._id,alert(c.timesheet_id),this.Invoice.removetime(c,function(){b.loadData()})}},{key:"update",value:function(){this.Invoice.update(this.currentInvoice,function(){window.history.back()})}},{key:"cancel",value:function(){window.history.back()}},{key:"delete",value:function(a){a.$remove({id:a._id}),window.history.back()}}]),a}();angular.module("ytcwebUirouteApp").controller("InvoiceViewCtrl",InvoiceViewCtrl);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d){var e=this;_classCallCheck(this,a),this.$http=b,this.awesomeThings=[],b.get("/api/things").then(function(a){e.awesomeThings=a.data,d.syncUpdates("thing",e.awesomeThings)}),c.$on("$destroy",function(){d.unsyncUpdates("thing")})}return a.$inject=["$http","$scope","socket"],_createClass(a,[{key:"addThing",value:function(){this.newThing&&(this.$http.post("/api/things",{name:this.newThing}),this.newThing="")}},{key:"deleteThing",value:function(a){this.$http["delete"]("/api/things/"+a._id)}}]),a}();angular.module("ytcwebUirouteApp").controller("MainController",a)}(),angular.module("ytcwebUirouteApp").controller("SplashTempController",["$scope",function(a){a.message="Hello",a.imageSrc="assets/images/yeoman.462ccecb.png",a.imageToad="assets/images/tree_frog_logo.ecdf847f.jpg",a.imageBar="assets/images/warehouse_header_short.13dd9a40.jpg"}]).config(["$mdThemingProvider",function(a){a.theme("green").primaryPalette("green"),a.theme("custom").primaryPalette("red"),a.theme("default").primaryPalette("grey").accentPalette("green").warnPalette("red").backgroundPalette("grey")}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("main",{url:"/",views:{"":{templateUrl:"templates/main.tp.html"},"splash@main":{templateUrl:"templates/splash.tp.html",controller:"SplashTempController",controllerAs:"splash"},"login@main":{templateUrl:"components/login/login.tp.html",controller:"LoginControllerTP",controllerAs:"login"}}})}]),angular.module("ytcwebUirouteApp").controller("MilestonesCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("milestones",{url:"/milestones",templateUrl:"app/milestones/milestones.html",controller:"MilestonesCtrl",authenticate:"admin"})}]);var PoCtrl=function c(a,b,d,e){_classCallCheck(this,c),this.Auth=a,this.$state=b,this.pos=d.query(),e.myPOs=d.query()};PoCtrl.$inject=["Auth","$state","Po","$scope"],angular.module("ytcwebUirouteApp").controller("PoCtrl",PoCtrl);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PoCtrlA=function(){function a(b,c,d,e,f,g){var h=this;_classCallCheck(this,a),this.Auth=b,this.UserRole=e,this.Po=c,this.mdeditDialog=g,this.pos=c.query(function(){angular.forEach(h.pos,function(a,b){if(a.client){var c=d.get({id:a.client});h.pos[b].extendedclient=c}})}),this.currentContractors=e.query({role:"contractor"},function(){h.currentClients=e.query({role:"client"})}),f.selected=[],f.query={order:"poid",limit:5,page:1}}return a.$inject=["Auth","Po","User","UserRole","$scope","$mdEditDialog"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.pos.splice(this.pos.indexOf(a),1)}},{key:"editComment",value:function(a,b,c){var d=this;a.stopPropagation();var e,f={modelValue:b.info,placeholder:"Status",targetEvent:a,save:function(a){b.info=a.$modelValue,d.Po.update(b).$promise,d.pos[c]=b},title:"Status",validators:{"md-maxlength":100}};e=this.mdeditDialog.large(f),
e.then(function(a){var b=a.getInput();b.$viewChangeListeners.push(function(){b.$setValidity("test","test"!==b.$modelValue)})})}},{key:"updatePo",value:function(a){this.Po.update(a).$promise}}]),a}();angular.module("ytcwebUirouteApp").controller("PoCtrlA",PoCtrlA);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("ytcwebUirouteApp").controller("LoginController",LoginController);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SettingsController=function(){function a(b){_classCallCheck(this,a),this.errors={},this.submitted=!1,this.Auth=b}return a.$inject=["Auth"],_createClass(a,[{key:"changePassword",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.changePassword(this.user.oldPassword,this.user.newPassword).then(function(){b.message="Password successfully changed."})["catch"](function(){a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message=""})}}]),a}();angular.module("ytcwebUirouteApp").controller("SettingsController",SettingsController);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PoDtlCtrl=function(){function a(b,c,d,e,f,g,h,i){var j=this;_classCallCheck(this,a),c.current="In Detail Controller",c.updateID=b.poid,this.Po=d,this.$state=h,c.showHints=!0,this.clients=f.query({role:"client"},function(){j.users=e.query(),0==b.poid?(j.currentpo={},j.submit="Add"):j.currentpo=d.get({id:b.poid},function(){j.currentpo.date?j.currentpo.date=new Date(j.currentpo.date):j.currentpo.date=new Date,j.submit="Update"})}),this.status=[{status:"open",desc:"Open"},{status:"closed",desc:"Closed"}],this.previousPage=i.previousPage}return a.$inject=["$stateParams","$scope","Po","User","UserRole","Client","$state","$rootScope"],_createClass(a,[{key:"cancel",value:function(){window.history.back()}},{key:"register",value:function(a,b){this.submitted=!0,a.$valid&&("Update"==this.submit?(this.Po.update(this.currentpo),window.history.back()):(this.Po.save(this.currentpo),window.history.back()))}}]),a}();angular.module("ytcwebUirouteApp").controller("PoDtlCtrl",PoDtlCtrl),angular.module("ytcwebUirouteApp").controller("SowCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("sow",{url:"/sow",templateUrl:"app/sow/sow.html",controller:"SowCtrl"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),TimeentryCtrl=function(){function a(b,c,d,e,f){var g=this;_classCallCheck(this,a),c.test="TEST",this.currentuser=d.get({id:b.getCurrentUser()._id},function(){g.configureCharts(c,f)}),this.User=d,this.showform=!1,this.$state=e,this.showline=!0,this.showpie=!1,c.selected=[],c.query={order:"poid",limit:5,page:1}}return a.$inject=["Auth","$scope","User","$state","$filter"],_createClass(a,[{key:"removeitem",value:function(a){var b=this;this.currentremove=a,this.currentuser.timesheets.splice(a,1),this.User.update(this.currentuser,function(){b.$state.reload()})}},{key:"showPie",value:function(){this.showpie=!0,this.showline=!1}},{key:"configureCharts",value:function(a,b){a.column_array=[],a.data_array_admin=[],a.data_array_dev=[],a.data_array_test=[],a.column_array.push("x"),a.data_array_admin.push("Administration"),a.data_array_dev.push("Development"),a.data_array_test.push("Testing"),a.development_hours=[],a.admin_hours=[],a.test_hours=[],a.development_hours.push("Development"),a.admin_hours.push("Administration"),a.test_hours.push("Testing"),a.total_admin=0,a.total_dev=0,a.total_test=0,a.cplus_hours=[],a.cplus_hours.push("C++"),a.cplus_hours.push(0),a.csharp_hours=[],a.csharp_hours.push("C#"),a.csharp_hours.push(0),a.javascript_hours=[],a.javascript_hours.push("JavaScript"),a.javascript_hours.push(0),a.java_hours=[],a.java_hours.push("Java"),a.java_hours.push(0),a.plsql_hours=[],a.plsql_hours.push("PL/SQL"),a.plsql_hours.push(0),a.oracle_hours=[],a.oracle_hours.push("Oracle"),a.oracle_hours.push(0),a.sqlserver_hours=[],a.sqlserver_hours.push("SQL Server"),a.sqlserver_hours.push(0),a.mysql_hours=[],a.mysql_hours.push("MySQL"),a.mysql_hours.push(0),a.mongo_hours=[],a.mongo_hours.push("MongoDB"),a.mongo_hours.push(0),a.ordered_time=b("orderBy")(this.currentuser.timesheets,"short_date"),a.currentDate="",a.firstPass=!0,a.adminPushed=!1,a.devPushed=!1,a.testPushed=!1,angular.forEach(a.ordered_time,function(b,c){a.ordered_time[c].skillset.code.cplus&&a.cplus_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.code.csharp&&a.csharp_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.code.javascript&&a.javascript_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.code.java&&a.java_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.code.plsql&&a.plsql_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.db.oracle&&a.oracle_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.db.sqlserver&&a.sqlserver_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.db.mysql&&a.mysql_hours.push(a.ordered_time[c].hours),a.ordered_time[c].skillset.db.mongo&&a.mongo_hours.push(a.ordered_time[c].hours),a.currentDate!=a.ordered_time[c].short_date&&(a.column_array.push(a.ordered_time[c].short_date),a.currentDate=a.ordered_time[c].short_date,a.firstPass||(a.devPushed?a.devPushed=!1:a.data_array_dev.push(0),a.adminPushed?a.adminPushed=!1:a.data_array_admin.push(0),a.testPushed?a.testPushed=!1:a.data_array_test.push(0)),a.firstPass=!1),"dev"==a.ordered_time[c].category&&(a.data_array_dev.push(a.ordered_time[c].hours),a.devPushed=!0,a.development_hours.push(a.ordered_time[c].hours)),"admin"==a.ordered_time[c].category&&(a.data_array_admin.push(a.ordered_time[c].hours),a.adminPushed=!0,a.admin_hours.push(a.ordered_time[c].hours)),"test"==a.ordered_time[c].category&&(a.data_array_test.push(a.ordered_time[c].hours),a.testPushed=!0,a.test_hours.push(a.ordered_time[c].hours))}),a.devPushed||a.data_array_dev.push(0),a.adminPushed||a.data_array_admin.push(0),a.testPushed||a.data_array_test.push(0),a.pieData=[],a.pieData.push(a.total_dev),a.pieData.push(a.total_admin),a.pieData.push(a.total_test),a.colData=[],a.colData.push(a.column_array),a.colData.push(a.data_array_dev),a.colData.push(a.data_array_admin),a.colData.push(a.data_array_test);c3.generate({bindto:"#chart1",data:{x:"x",xFormat:"%m/%d/%Y",columns:a.colData,labels:!0,type:"area"},subchart:{show:!0},zoom:{enabled:!0},grid:{x:{show:!0},y:{show:!0}},axis:{x:{type:"timeseries",tick:{format:"%m/%d/%y",rotate:90,fit:!0}},y:{max:12,tick:{format:d3.format(".0f")}}}});a.chart2=c3.generate({bindto:"#chart2",data:{columns:[a.development_hours],type:"donut",onclick:function(a,b){console.log("onclick",a,b)},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},donut:{title:"Timesheet Usage"}}),setTimeout(function(){a.chart2.load({columns:[a.admin_hours]})},1e3),setTimeout(function(){a.chart2.load({columns:[a.test_hours]})},2e3),a.chart3=c3.generate({bindto:"#chart3",data:{columns:[a.cplus_hours],type:"donut",onclick:function(a,b){console.log("onclick",a,b)},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},donut:{title:"Code Skill Usage"}}),setTimeout(function(){a.chart3.load({columns:[a.csharp_hours]})},500),setTimeout(function(){a.chart3.load({columns:[a.javascript_hours]})},1e3),setTimeout(function(){a.chart3.load({columns:[a.java_hours]})},1500),setTimeout(function(){a.chart3.load({columns:[a.plsql_hours]})},2e3),a.chart4=c3.generate({bindto:"#chart4",data:{columns:[a.oracle_hours],type:"donut",onclick:function(a,b){console.log("onclick",a,b)},onmouseover:function(a,b){console.log("onmouseover",a,b)},onmouseout:function(a,b){console.log("onmouseout",a,b)}},donut:{title:"Database Skill Usage"}}),setTimeout(function(){a.chart4.load({columns:[a.sqlserver_hours]})},500),setTimeout(function(){a.chart4.load({columns:[a.mysql_hours]})},1e3),setTimeout(function(){a.chart4.load({columns:[a.mongo_hours]})},1500)}}]),a}();angular.module("ytcwebUirouteApp").controller("TimeentryCtrl",TimeentryCtrl),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("timeentry",{url:"/timeentry",templateUrl:"app/timeentry/timeentry.html",controller:"TimeentryCtrl",controllerAs:"time",authenticate:"contractor"}).state("timeentrydtl",{url:"/timeentrydtl/:userid/:timesheetid",templateUrl:"app/timeentry/timeentrydtl.html",resolve:{user:["$stateParams","User",function(a,b){return b.get({id:a.userid}).$promise}],currentpos:["PoStatus",function(a){return a.get({status:"open"}).$promise}]},controller:"TimeentryDetailCtrl",controllerAs:"timedtl",authenticate:"contractor",params:{userid:{value:"0",squash:!0},timesheetid:{value:"0",squash:!0}}}).state("timeview",{url:"/timeview/:userid/:timesheetid",templateUrl:"app/timeentry/timeview.html",controller:"TimeViewCtrl",controllerAs:"timeview",authenticate:"contractor",params:{userid:{value:"0",squash:!0},timesheetid:{value:"0",squash:!0}}})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),TimeentryDetailCtrl=function(){function a(b,c,d,e,f,g,h,i,j,k,l){_classCallCheck(this,a),this.$state=b,this.updateForm=!0,this.validTime=!1,this.updateIndex=0,this.userid=g.userid,this.User=e,this.hoursUsed=d,this.$filter=f,this.categories=[],this.submitbutton="Add",this.allowDelete=!1,this.showindeterminate=!1,this.PoContractor=c,this.contractorpos=[{}],this.hours_available=0,this.hours_available_visible=0,this.hours_available_warning=!1,this.Po=i,this.Poid=j,this.PoValue=h,this.currentuser={},this.poupdate={_id:0,hours:0},this.timesheet={skillset:{code:{cplus:!1,javascript:!1,csharp:!1,plsql:!1,java:!1},db:{oracle:!1,sqlserver:!1,mysql:!1,mongo:!1},leadership:{management:!1,training:!1}}},this.currentuser=k,this.contractorpos=l,0==g.timesheetid?(this.updateForm=!1,this.validTime=!0):(this.submitbutton="Update",this.timesheetidx=0,this.allowDelete=!0,this.timesheet=this.currentuser.timesheets.find(function(a){return a._id===g.timesheetid}),this.timesheet.date=new Date(this.timesheet.date)),this.status=[{type:"entered",desc:"Entered"},{type:"invoiced",desc:"Invoiced"},{type:"received",desc:"Received"},{type:"paid",desc:"Paid"}]}return a.$inject=["$state","PoContractor","PoHoursUsed","User","$filter","$stateParams","PoValue","Po","PoId","user","currentpos"],_createClass(a,[{key:"removeTimesheet",value:function(){var a=this;this.currentuser.timesheets.splice(this.timesheetidx,1),this.User.update(this.currentuser,function(){a.$state.go("timeentry")})}},{key:"adjustAvailable",value:function(){this.timesheet.hours>0?this.hours_available_visible=this.hours_available-this.timesheet.hours:this.hours_available_visible=this.poValue.get,this.hours_available_visible<0?(this.hours_available_warning=!0,this.hours_available_visible=0):this.hours_available_warning=!1}},{key:"setcategories",value:function(a,b,c){var d=this;this.timesheetList=this.$filter("filter")(this.currentuser.timesheets,{short_date:moment(a).format("MM/DD/YYYY")});var e=!1,f=!1,g=!1;this.categories=[],angular.forEach(this.timesheetList,function(a,h){if(d.timesheetList[h].po.id==c){var i=d.timesheetList[h].category;"dev"==i&&i!=b&&(e=!0),"admin"==i&&i!=b&&(f=!0),"test"==i&&i!=b&&(g=!0)}}),e||this.categories.push({type:"dev",desc:"Development"}),f||this.categories.push({type:"admin",desc:"Administration"}),g||this.categories.push({type:"test",desc:"Test"}),this.Po.get({id:c._id},function(a){var b=d.$filter("filter")(d.currentuser.timesheets,{po:{id:c._id}});d.hours_available=d.hours_available_visible=d.PoValue.getPoHoursAvailable(a,b),d.timesheet.po=a})}},{key:"cancel",value:function(){window.history.back()}},{key:"register",value:function(a){var b=this;this.submitted=!0;var c={};this.hours_available_warning&&(alert("You have a discrepancy with the hours you entered!"),exit),c={po:{id:this.timesheet.po._id,name:this.timesheet.po.poid},date:new Date(this.timesheet.date),short_date:moment(this.timesheet.date).format("MM/DD/YYYY"),hours:this.timesheet.hours,category:this.timesheet.category,desc:this.timesheet.desc,status:"entered",skillset:{code:{cplus:angular.isDefined(this.timesheet.skillset.code.cplus)?this.timesheet.skillset.code.cplus:!1,javascript:angular.isDefined(this.timesheet.skillset.code.javascript)?this.timesheet.skillset.code.javascript:!1,csharp:angular.isDefined(this.timesheet.skillset.code.csharp)?this.timesheet.skillset.code.csharp:!1,plsql:angular.isDefined(this.timesheet.skillset.code.plsql)?this.timesheet.skillset.code.plsql:!1,java:angular.isDefined(this.timesheet.skillset.code.java)?this.timesheet.skillset.code.java:!1},db:{oracle:this.timesheet.skillset.db.oracle,sqlserver:this.timesheet.skillset.db.sqlserver,mysql:this.timesheet.skillset.db.mysql,mongo:this.timesheet.skillset.db.mongo},leadership:{management:this.timesheet.skillset.leadership.management,training:this.timesheet.skillset.leadership.training}}},this.poupdate._id=c.po.id,this.poupdate.hours=c.hours,this.updateForm?this.currentuser.timesheets[this.timesheetidx]=c:this.currentuser.timesheets.push(c),a.$valid&&this.User.update(this.currentuser,function(){var a={};a.contractor=b.currentuser.first_name+" "+b.currentuser.last_name,a.po=c.po.name,a.hours=c.hours,c.contractor=b.currentuser.first_name+" "+b.currentuser.last_name,b.showindeterminate=!0,b.User.email(c,function(){b.$state.go("contractordash",{},{reload:!0})})})}}]),a}();angular.module("ytcwebUirouteApp").controller("TimeentryDetailCtrl",TimeentryDetailCtrl);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),TimeViewCtrl=function(){function a(b,c,d,e,f,g,h){var i=this;_classCallCheck(this,a),this.$state=b,this.updateForm=!0,this.validTime=!1,this.updateIndex=0,this.userid=h.userid,this.User=f,this.hoursUsed=d,this.$filter=g,this.categories=[],this.submitbutton="Add",this.allowDelete=!1,this.currentuser=f.get({id:h.userid},function(){0==h.timesheetid?(i.updateForm=!1,i.validTime=!0):(i.submitbutton="Update",i.timesheetidx=0,i.allowDelete=!0,angular.forEach(i.currentuser.timesheets,function(a,b){i.currentuser.timesheets[b]._id==h.timesheetid&&(i.validTime=!0,i.timesheet=i.currentuser.timesheets[b],i.timesheet.date=new Date(i.currentuser.timesheets[b].date),i.timePO=e.get({id:i.timesheet.po.id},function(){f.get({id:i.timePO.client},function(a){i.timesheet.client_image=a.img_url,i.timesheet.client_name=a.client_name})}))})),i.contractorpos=c.get({contractor:i.currentuser._id})})}return a.$inject=["$state","PoContractor","PoHoursUsed","Po","User","$filter","$stateParams"],_createClass(a,[{key:"back",value:function(){window.history.back()}}]),a}();angular.module("ytcwebUirouteApp").controller("TimeViewCtrl",TimeViewCtrl),angular.module("ytcwebUirouteApp").controller("UsermaintCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("ytcwebUirouteApp").config(["$stateProvider",function(a){a.state("usermaint",{url:"/usermaint",templateUrl:"app/usermaint/usermaint.html",controller:"UsermaintCtrl"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SignupController=function(){function a(b,c,d,e){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c,this.displayClientInfo=!1,d.showHints=!0,d.types=[{type:"client",desc:"Client"},{type:"contractor",desc:"Contractor"},{type:"contact",desc:"Contact"}],d.previousPage=e.previousPage}return a.$inject=["Auth","$state","$scope","$rootScope"],_createClass(a,[{key:"onrolechange",value:function(){"client"==this.user.role?this.displayClientInfo=!0:this.displayClientInfo=!1}},{key:"register",value:function(a,b){var c=this;this.submitted=!0,a.$valid&&this.Auth.createUser({first_name:this.user.first_name,last_name:this.user.last_name,role:this.user.role,email:this.user.email,password:this.user.password,phone:this.user.phone,client_name:this.user.client_name,client_addr1:this.user.client_addr1}).then(function(){c.$state.go("thankyou")})["catch"](function(b){b=b.data,c.errors={},angular.forEach(b.errors,function(b,d){a[d].$setValidity("mongoose",!1),c.errors[d]=b.message})})}}]),a}(),ThankyourController=function d(a){_classCallCheck(this,d)};ThankyourController.$inject=["Auth"],angular.module("ytcwebUirouteApp").controller("SignupController",SignupController).controller("ThankyouController",ThankyourController),function(){function a(a,b,c,d,e,f,g){var h=f.safeCb,i={},j=e.userRoles||[];c.get("token")&&"/logout"!==a.path()&&(i=g.get());var k={login:function(a,e){var f=a.email,j=a.password;return b.post("/auth/local",{email:f,password:j}).then(function(a){return c.put("token",a.data.token),i=g.get(),i.$promise}).then(function(a){return h(e)(null,a),a})["catch"](function(a){return k.logout(),h(e)(a.data),d.reject(a.data)})},logout:function(){c.remove("token"),i={}},createUser:function(a,b){return g.save(a,function(a){},function(a){return k.logout(),h(b)(a)}).$promise},changePassword:function(a,b,c){return g.changePassword({id:i._id},{oldPassword:a,newPassword:b},function(){return h(c)(null)},function(a){return h(c)(a)}).$promise},getCurrentUser:function(a){if(0===arguments.length)return i;var b=i.hasOwnProperty("$promise")?i.$promise:i;return d.when(b).then(function(b){return h(a)(b),b},function(){return h(a)({}),{}})},isLoggedIn:function(a){return 0===arguments.length?i.hasOwnProperty("role"):k.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return h(a)(c),c})},hasRole:function l(a,b){var l=function(a,b){return j.indexOf(a)>=j.indexOf(b)};return arguments.length<2?l(i.role,a):k.getCurrentUser(null).then(function(c){var d=c.hasOwnProperty("role")?l(c.role,a):!1;return h(b)(d),d})},isAdmin:function(){return k.hasRole.apply(k,[].concat.apply(["admin"],arguments))},isContractor:function(){return k.hasRole.apply(k,[].concat.apply(["contractor"],arguments))},isClient:function(){return k.hasRole.apply(k,[].concat.apply(["client"],arguments))},isNavContractor:function(){return"contractor"==k.getCurrentUser().role},isNavClient:function(){return"client"==k.getCurrentUser().role},getToken:function(){return c.get("token")}};return k}a.$inject=["$location","$http","$cookies","$q","appConfig","Util","User"],angular.module("ytcwebUirouteApp.auth").factory("Auth",a)}(),function(){function a(a,b,c,d,e){var f;return{request:function(a){return a.headers=a.headers||{},c.get("token")&&e.isSameOrigin(a.url)&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status&&((f||(f=d.get("$state"))).go("main"),c.remove("token")),b.reject(a)}}}a.$inject=["$rootScope","$q","$cookies","$injector","Util"],angular.module("ytcwebUirouteApp.auth").factory("authInterceptor",a)}(),function(){angular.module("ytcwebUirouteApp.auth").run(["$rootScope","$state","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.authenticate&&("string"==typeof d.authenticate?c.hasRole(d.authenticate,_.noop).then(function(d){return d?void 0:(a.preventDefault(),c.isLoggedIn(_.noop).then(function(a){b.go("main")}))}):c.isLoggedIn(_.noop).then(function(c){c||(a.preventDefault(),b.go("main"))}))})}])}(),function(){function a(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},update:{method:"PUT"},get:{method:"GET",params:{id:"me"}},email:{method:"POST",url:"/api/users/email"}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp.auth").factory("User",a)}(),angular.module("ytcwebUirouteApp").directive("foot",function(){return{templateUrl:"components/footer/footer.tp.html",restrict:"E",link:function(a,b){b.addClass("foot")}}});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginControllerTP=function(){function a(b,c,d){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c,this.showHints=!0,this.userObj=d,this.isLoggedIn=b.isLoggedIn,this.getCurrentUser=b.getCurrentUser,this.isAdmin=b.isAdmin,this.isContractor=b.isContractor}return a.$inject=["Auth","$state","User"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.userinfo=b.userObj.get({id:b.Auth.getCurrentUser()._id},function(){0==b.userinfo.validated?(b.$state.go("thankyou"),b.Auth.logout()):"admin"==b.userinfo.role?b.$state.go("admindash"):"client"==b.userinfo.role?b.$state.go("clientdash"):"contractor"==b.userinfo.role?b.$state.go("contractordash"):b.$state.go("main")})})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("ytcwebUirouteApp").controller("LoginControllerTP",LoginControllerTP),angular.module("ytcwebUirouteApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=arguments.length<=1||void 0===arguments[1]?"modal-default":arguments[1],e=a.$new();return angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(){var a=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("ytcwebUirouteApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}});var NavbarController=function e(a,b){_classCallCheck(this,e),this.menu=[{title:"Home",state:"main"}],this.isCollapsed=!0,this.isLoggedIn=a.isLoggedIn,this.getCurrentUser=a.getCurrentUser,this.isAdmin=a.isAdmin,this.isContractor=a.isNavContractor,this.isClient=a.isNavClient};NavbarController.$inject=["Auth","$scope"],angular.module("ytcwebUirouteApp").controller("NavbarController",NavbarController),angular.module("ytcwebUirouteApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),angular.module("ytcwebUirouteApp").controller("OauthButtonsCtrl",["$window",function(a){this.loginOauth=function(b){a.location.href="/auth/"+b}}]),angular.module("ytcwebUirouteApp").directive("oauthButtons",function(){return{templateUrl:"components/oauth-buttons/oauth-buttons.html",restrict:"EA",controller:"OauthButtonsCtrl",controllerAs:"OauthButtons",scope:{classes:"@"}}}),function(){function a(a,b){var c={getUserTimesheetJSON:function(b){var c,d=a("orderBy")(b.timesheets,"short_date"),e=[],f=[],g=[],h=[],i=[],j=[],k={},l=0,m=0,n=0,o=0;return f.push("x"),g.push("Development"),h.push("Admin"),i.push("Testing"),angular.forEach(d,function(a,b){d[b].short_date!=c&&o>0&&(k={date:c,devHours:l,adminHours:n,testHours:m},e.push(k),k={},l=0,m=0,n=0),"dev"==d[b].category&&(l+=d[b].hours),"admin"==d[b].category&&(n+=d[b].hours),"test"==d[b].category&&(m+=d[b].hours),c=d[b].short_date,o+=1,d.length-1==b&&(k={date:c,devHours:l,adminHours:n,testHours:m},e.push(k))}),angular.forEach(e,function(a,b){f.push(e[b].date),g.push(e[b].devHours),i.push(e[b].testHours),h.push(e[b].adminHours)}),j.push(f),j.push(g),j.push(i),j.push(h),j},getUserSkillsJSON:function(a){},getPurchaseOrderTimesheetJSON:function(a){var c=this,d=[];return this.contractor=b.get({id:a.contractor},function(){angular.forEach(c.contractor.timesheets,function(b,e){c.contractor.timesheets[e].po.id==a._id&&d.push(c.contractor.timesheets[e])})}),this.returnTimesheetListDataJSON(d)},getUserTimeCategoryJSON:function(a){},returnTimesheetListDataJSON:function(b){var c,d=a("orderBy")(b,"short_date"),e=[],f=[],g=[],h=[],i=[],j=[],k={},l=0,m=0,n=0,o=0;return f.push("x"),g.push("Development"),h.push("Admin"),i.push("Testing"),angular.forEach(d,function(a,b){d[b].short_date!=c&&o>0&&(k={date:c,devHours:l,adminHours:n,testHours:m},e.push(k),k={},l=0,m=0,n=0),"dev"==d[b].category&&(l+=d[b].hours),"admin"==d[b].category&&(n+=d[b].hours),"test"==d[b].category&&(m+=d[b].hours),c=d[b].short_date,o+=1,d.length-1==b&&(k={date:c,devHours:l,adminHours:n,testHours:m},e.push(k))}),angular.forEach(e,function(a,b){f.push(e[b].date),g.push(e[b].devHours),i.push(e[b].testHours),h.push(e[b].adminHours)}),j.push(f),j.push(g),j.push(i),j.push(h),j}};return c}a.$inject=["$filter","User"],angular.module("ytcwebUirouteApp").factory("Chart",a)}(),function(){function a(a){return a("/api/clients/:id",{id:"@_id"},{update:{method:"PUT"}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("Client",a)}(),function(){function a(a){return a("/api/invoices/:id",{id:"@_id",status:"@status",poid:"@poid"},{update:{method:"PUT"},get:{method:"GET",isArray:!1},query:{method:"GET",isArray:!0},removetime:{method:"POST",url:"/api/invoices/removetime"},querystatus:{method:"GET",isArray:!0,url:"/api/invoices/status/:status"},querypo:{method:"GET",isArray:!0,url:"/api/invoices/po/:poid"}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("Invoice",a)}(),function(){function a(a){return a("/api/pos/:id",{id:"@_id"},{update:{method:"PUT"},get:{method:"GET",isArray:!1},query:{method:"GET",isArray:!0}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("Po",a)}(),function(){function a(a){return a("/api/pos/poid/:poid",{poid:"@poid"},{get:{method:"GET",isArray:!1}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("PoId",a)}(),function(){function a(a){return a("/api/pos/contractor/:contractor",{contractor:"@contractor"},{update:{method:"PUT"},get:{method:"GET",isArray:!0}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("PoContractor",a)}(),function(){function a(a){return a("/api/pos/client/:client",{client:"@client"},{update:{method:"PUT"},get:{method:"GET",isArray:!0}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("PoClient",a)}(),function(){function a(a){return a("/api/pos/findstatus/:status",{status:"@status"},{get:{method:"GET",isArray:!0}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("PoStatus",a)}(),function(){function a(a){return a("/api/pos/hoursused/:id",{id:"@_id"},{update:{method:"PUT"}})}a.$inject=["$resource"],angular.module("ytcwebUirouteApp").factory("PoHoursUsed",a)}(),function(){function a(a,b){this.filter=a;var c={getPoHoursUsed:function(a){var b=0;return angular.forEach(a,function(c,d){b+=a[d].hours}),b},getPoHoursAvailable:function(a,b){var c=0;return angular.forEach(b,function(a,d){c+=b[d].hours}),a.hours-c},getPoUserObject:function(a){},isPoActive:function(a){},activePoList:function(){},getNextPoId:function(){}};return c}a.$inject=["$filter","User"],angular.module("ytcwebUirouteApp").factory("PoValue",a)}(),function(){function a(a){return a("/api/users/role/:role",{role:"@role"},{get:{method:"GET",isArray:!1},query:{method:"GET",isArray:!0}})}a.$inject=["$resource"];var b=this;angular.module("ytcwebUirouteApp").factory("UserRole",a).service("UserTimeSeriesChart",function(){b.getChartData=function(a){var b=[],c={};return angular.forEach(currentUser.timesheets,function(a,d){c={date:currentUser.timesheets[d].short_date},b.push(c)}),b}})}();var SidenavController=function f(a){_classCallCheck(this,f),this.menu=[{link:"",title:"Dashboard",icon:"dashboard"},{link:"",title:"Friends",icon:"group"},{link:"",title:"Messages",icon:"message"}],this.admin=[{link:"",title:"Trash",icon:"delete"},{link:"showListBottomSheet($event)",title:"Settings",icon:"settings"}],this.isCollapsed=!0,this.isLoggedIn=a.isLoggedIn,this.isAdmin=a.isAdmin,this.getCurrentUser=a.getCurrentUser};SidenavController.$inject=["Auth"],angular.module("ytcwebUirouteApp").controller("SidenavController",SidenavController),angular.module("ytcwebUirouteApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d,e){_classCallCheck(this,a),this.users=b.query(),this.pos=c.query(),d.selected=[],d.query={order:"last_name",limit:5,page:1},e.previousPage="admin"}return a.$inject=["User","Po","$scope","$rootScope"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.users.splice(this.users.indexOf(a),1)}}]),a}();angular.module("ytcwebUirouteApp.admin").controller("AdminController",a)}(),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,""===b.host&&(b.href=b.href),b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1}};return b}a.$inject=["$window"],angular.module("ytcwebUirouteApp.util").factory("Util",a)}(),angular.module("ytcwebUirouteApp").run(["$templateCache",function(a){a.put("app/account/login/login.html","<div class=container><div class=row><div class=col-sm-12><div>email: 'test@example.com', password: 'test', role: 'admin',</div><div>email: 'test@test.com', password: 'test', role: 'contractor',</div><div>$root.authMessage</div><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@example.com</code> / <code>test</code></p><p>Admin account is <code>admin@example.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=vm.login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password required></div><div class=\"form-group has-error\"><p class=help-block ng-show=\"form.email.$error.required && form.password.$error.required && vm.submitted\">Please enter your email and password.</p><p class=help-block ng-show=\"form.email.$error.email && vm.submitted\">Please enter a valid email.</p><p class=help-block>{{ vm.errors.other }}</p></div><div><button class=\"btn btn-inverse btn-lg btn-login\" type=submit>Login</button> <a class=\"btn btn-default btn-lg btn-register\" ui-sref=signup>Register</a></div><hr><div class=row><div class=\"col-sm-4 col-md-3\"><oauth-buttons classes=btn-block></oauth-buttons></div></div></form></div></div><hr></div>"),
a.put("app/account/settings/settings.html",'<navbar></navbar><div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=vm.user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)">Password must be at least 3 characters.</p></div><div class=form-group><label>Confirm New Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><p class=help-block>{{ vm.message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Create New User</span></div></md-toolbar><md-content layout-padding=""><div><form class=form name=userForm ng-submit=vm.register(userForm,previousPage)><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>First Name (Required)</label><input ng-model=vm.user.first_name required><div ng-messages=vm.user.first_name.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a first name</div></div></md-input-container></div><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>Last Name (Required)</label><input ng-model=vm.user.last_name required><div ng-messages=vm.user.last_name.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a last name</div></div></md-input-container></div><div layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=""><label>Email (Required)</label><input name=email ng-model=vm.user.email required minlength=10 maxlength=100 ng-pattern="/^.+@.+\\..+$/"><!--<div class="hint" ng-show="showHints">How can we reach you?</div>--><div ng-messages=vm.user.email.$error><div ng-message-exp="[\'required\', \'minlength\', \'maxlength\', \'pattern\']" ng-show=vm.user.email.$error>Your email must be between 10 and 100 characters long and look like an e-mail address.</div></div></md-input-container><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div><!--ng-pattern="/^([0-9]{3}) [0-9]{3}-[0-9]{4}$/"  The regex for phone.. not working--><md-input-container class=md-block flex-gt-sm=""><label>Phone Number</label><input name=phone id=phone ng-model=vm.user.phone><!--<div class="hint" ng-if="showHints">(###) ###-####</div>--><div ng-messages=vm.user.phone.$error><!--<div ng-show="userForm.phone.$error.pattern">(###) ###-#### - Please enter a valid phone number.</div>--><div ng-show=userForm.phone.$error.required>Phone Required</div></div></md-input-container></div><div layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=""><label>Password</label><input type=password id=password name=password ng-model=vm.user.password required minlength=3 maxlength=50><div ng-messages=userForm.password.$error><div ng-message-exp="[\'required\', \'minlength\', \'maxlength\']">Password must be greater than 3 characters</div></div></md-input-container><md-input-container class=md-block flex-gt-sm=""><label>Confirm Password</label><input type=password name=confirmPassword ng-model=vm.user.confirmPassword match=userForm.password required minlength=3 maxlength=50><div ng-messages=userForm.confirmPassword.$error><div ng-message-exp="[\'required\', \'minlength\', \'maxlength\', \'match\']">Passwords must match</div></div></md-input-container></div><div layout=row><md-input-container><label>Role</label><md-select name=role ng-change=vm.onrolechange() ng-model=vm.user.role required><md-option ng-repeat="type in types" value={{type.type}}>{{type.desc}}</md-option></md-select></md-input-container></div><div ng-show=vm.displayClientInfo layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=""><label>Client Name</label><input name=client_name id=client_name ng-model=vm.user.client_name></md-input-container><md-input-container class=md-block flex-gt-sm=""><label>Client Address</label><input name=client_addr1 id=client_addr1 ng-model=vm.user.client_addr1></md-input-container></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-login" ui-sref=login>Login</a></div><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></form></div></md-content>'),a.put("app/account/signup/thankyou.html",'<div layout=column layout-align="center center"><h4>Thank you for signing up with Yellow Toad\'s Consultant Portal.</h4><h5>You should recieve an email in the next 24 hours after your sign up has been validated.</h5></div>'),a.put("app/admin/admin.html",'<!--<div class="container">--><!--<p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p>--><!--<ul class="list-group user-list">--><!--<li class="list-group-item" ng-repeat="user in admin.users">--><!--<div class="user-info">--><!--<strong>{{user.name}}</strong><br>--><!--<span class="text-muted">{{user.email}}</span>--><!--</div>--><!--<a ng-click="admin.delete(user)" class="trash"><span class="fa fa-trash fa-2x"></span></a>--><!--</li>--><!--</ul>--><!--</div>--><!--<md-content>--><!--<md-button class="md-raised md-primary" href="/signup">Add New User</md-button>--><!--</md-content>--><md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>User Maintenance</span></div></md-toolbar><md-table-container><table md-table md-row-select><thead md-head md-order=query.order><tr md-row><th md-column>Avatar</th><th md-column md-order-by=last_name>Last Name</th><th md-column md-order-by=first_name>First Name</th><th md-column>Client</th><th md-column>Email</th><th md-column>Phone</th><th md-column md-order-by=role>Role</th><th md-column>Delete</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="user in admin.users | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell layout-margin><img class=img-user-avatar src={{user.img_url}} class=md-avatar alt="image caption"></td><td md-cell>{{user.last_name}}</td><td md-cell>{{user.first_name}}</td><td md-cell>{{user.client_name}}</td><td md-cell><a href="/userimg?userid={{user._id}}">{{user.email}}</a></td><td md-cell>{{user.phone}}</td><td md-cell>{{user.role}}</td><td md-cell><a ng-click=admin.delete(user) class=trash><span class="fa fa-trash fa-2x"></span></a></td></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{admin.users.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg" href=/signup><i class=material-icons>playlist_add</i><span>New User</span></md-button></div>'),a.put("app/admindash/admindash.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Administration Dashboard</div><span flex></span><div layout-margin>{{admindash.currentUser.first_name}} {{admindash.currentUser.last_name}}</div><div><img class=img-user-avatar src={{admindash.currentUser.img_url}} class=md-avatar alt="image caption"></div></div></md-toolbar><div layout-gt-sm=row class=top-admin><div flex layout-margin class=current-pos><h4 class=white-heading>Current Open PO\'s</h4><md-table-container><table md-table md-row-select=true><thead md-head md-order=admindash.poquery.order><tr md-row><th md-column><span>Purchase Order</span></th><th md-column>Used</th><th md-column>Available</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr class=tr-color md-row md-select=po ng-repeat="po in admindash.viewPos | orderBy: admindash.poquery.order | limitTo: admindash.poquery.limit: (admindash.poquery.page-1) * admindash.poquery.limit"><td md-cell><a class=white-link href="/contractorpo?poid={{po._id}}">{{po.poid}}</a></td><td md-cell>{{po.total_hours}}</td><td md-cell>{{po.avail_hours}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit=admindash.poquery.limit md-page=admindash.poquery.page md-total={{admindash.viewPos.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg white-heading" href=/podtl><i class=material-icons>playlist_add</i><span>New Purchase Order</span></md-button></div></div><div flex layout-margin class=current-invoices><h4 class=white-heading>Current Invoices</h4><md-table-container><table md-table md-row-select=true><thead md-head md-order=admindash.invoicequery.order><tr md-row><th md-column><span>Invoice ID</span></th><th md-column>Date</th><th md-column>Hours</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-select=inv ng-repeat="inv in admindash.viewInvoices | orderBy: admindash.invoicequery.order | limitTo: admindash.invoicequery.limit: (admindash.invoicequery.page-1) * admindash.invoicequery.limit"><td md-cell><a class=white-link href="/invoiceview?invoice={{inv._id}}">{{inv.name}}</a></td><td md-cell>{{inv.date}}</td><td md-cell>{{inv.hours}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit=admindash.invoicequery.limit md-page=admindash.invoicequery.page md-total={{admindash.viewInvoices.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg white-heading" href=/invoicedtl><i class=material-icons>playlist_add</i><span>New Invoice</span></md-button></div></div></div><div layout-gt-sm=row class=top-admin><div flex><div flex class=trending-admin layout-margin><h4 layout-margin class=white-heading>Trending</h4><c3chart layout-margin bindto-id=chart1><chart-column column-id="data 1" column-values=30,200,100,400,150,250 column-color=blue column-type="spline"><chart-column column-id="data 2" column-color=green column-values=50,20,10,40,15,25 column-type="line"></c3chart></div></div></div>'),a.put("app/admindash/userimg.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Create/Update User Avatar URL</span></div></md-toolbar><md-content layout-padding=""><div><form class=form name=userImgForm ng-submit=vm.register(userImgForm,previousPage)><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>First Name</label><input ng-model=userimg.currentUser.first_name></md-input-container><md-input-container class=md-block flex-gt-xs=""><label>Last Name</label><input ng-model=userimg.currentUser.last_name></md-input-container></div><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>Client Name</label><input ng-model=userimg.currentUser.client_name disabled></md-input-container></div><div layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=""><label>Email</label><input name=email ng-model=userimg.currentUser.email disabled></md-input-container><md-switch class=md-primary ng-model=userimg.currentUser.validated aria-label=manage>Validated</md-switch></div><div layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=""><label>User/Client Avatar URL</label><input name=img ng-model=userimg.currentUser.img_url diabled></md-input-container></div><div><a class="btn btn-default btn-lg btn-login" ng-click=userimg.update(previousPage)>Update</a></div><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></form></div></md-content>'),a.put("app/client/client.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Client Maintenance</span></div></md-toolbar><!--name: "ClientA",--><!--info: "This is a test Client ONE",--><!--addr1: "1234 Street",--><!--addr2: "",--><!--city: "Caledonia",--><!--state: "MI",--><!--zip: "49316",--><!--rate: 100--><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=name><span>Client Name</span></th><th md-column>Info</th><th md-column>Address</th><th md-column></th><th md-column>City</th><th md-column>State</th><th md-column>Zip</th><th md-column md-order-by=rate>Rate</th><th md-column>Delete</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-select=cl md-on-select=logItem md-auto-select=options.autoSelect ng-repeat="cl in client.clientlist | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href="/clientdtl?clientid={{cl._id}}">{{cl.name}}</a></td><td md-cell>{{cl.info}}</td><td md-cell>{{cl.addr1}}</td><td md-cell>{{cl.addr2}}</td><td md-cell>{{cl.city}}</td><td md-cell>{{cl.state}}</td><td md-cell>{{cl.zip}}</td><td md-cell>{{cl.rate}}</td><!--<td md-cell><a href="/clientdtl?id={{cl._id}}"><i class="material-icons">update</i></a></td>--><td md-cell><a ng-click=""><i class=material-icons>delete</i></a></td></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{client.clientlist.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/clientdtl">New Client</md-button>--><md-button class="btn btn-inverse btn-lg" href=/clientdtl><i class=material-icons>playlist_add</i><span>New Client</span></md-button></div>'),a.put("app/client/clientdtl.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Create/Update New Client</span></div></md-toolbar><!--var ClientSchema = new mongoose.Schema({--><!--name: String,--><!--info: String,--><!--addr1: String,--><!--addr2: String,--><!--city: String,--><!--state: String,--><!--zip: String,--><!--rate: Number,--><!--contact: {--><!--type: mongoose.Schema.Types.ObjectId, ref: \'User\'--><!--},--><!--active: Boolean--><!--});--><md-content layout-padding=""><div><form class=form name=clientForm ng-submit=clientdtl.register(clientForm)><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>Client ID (Required)</label><input id=currentclient name=currentclient ng-model=clientdtl.currentclient.name required><div ng-messages=clientForm.currentclient.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a Client Id</div></div></md-input-container></div><div layout=row><md-input-container class=md-block flex-gt-xs=""><label>Client Info/Description (Required)</label><input id=info name=info ng-model=clientdtl.currentclient.info required><div ng-messages=clientForm.info.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Client Information Required.</div></div></md-input-container></div><div layout=row><md-input-container class=md-block flex-gt-xs=""><label>Address Line 1: (Required)</label><input id=addr1 name=addr1 ng-model=clientdtl.currentclient.addr1 required><div ng-messages=clientForm.addr1.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Address Line One Required.</div></div></md-input-container><md-input-container class=md-block flex-gt-xs=""><label>Address Line 2:</label><input id=addr2 name=addr2 ng-model=clientdtl.currentclient.addr2></md-input-container></div><div layout=row><md-input-container class=md-block flex-gt-xs=""><label>City: (Required)</label><input id=city name=city ng-model=clientdtl.currentclient.city required><div ng-messages=clientForm.city.$error ng-hide=showHints><div ng-message-exp="[\'required\']">City Required.</div></div></md-input-container><!--This is where we need a select box for the STATE!--><md-input-container class=md-block flex-gt-sm=""><label>State</label><md-select id=state name=state ng-model=clientdtl.currentclient.state required><md-option ng-repeat="state in states" value={{state.abbrev}}>{{state.abbrev}}</md-option></md-select><div ng-messages=clientForm.state.$error ng-hide=showHints><div ng-message-exp="[\'required\']">State Required.</div></div></md-input-container></div><!--ZIP CODE ROW--><div layout=row><md-input-container class=md-block flex-gt-sm=""><label>Postal Code</label><input name=zip id=zip ng-model=clientdtl.currentclient.zip placeholder=##### required ng-pattern="/^[0-9]{5}$/" md-minlength=5 md-maxlength=5><div ng-messages=userForm.zip.$error role=alert multiple><div ng-message=required class=my-message>You must supply a postal code.</div><div ng-message=pattern class=my-message>That doesn\'t look like a valid postal code.</div><div ng-message=md-maxlength class=my-message>Don\'t use the long version silly...we don\'t need to be that specific...</div><div ng-message=md-minlength class=my-message>Zip code requires atleast 5 digits</div></div></md-input-container></div><div layout=row><md-input-container class=md-block flex-gt-xs=""><label>Rate: (Required)</label><input id=rate name=rate type=number ng-model=clientdtl.currentclient.rate required><div ng-messages=clientForm.rate.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Rate Required.</div></div></md-input-container></div><div layout-gt-xs=row><md-input-container><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Contact</label><md-select name=contact ng-model=clientdtl.currentclient.contact><md-option ng-repeat="user in clientdtl.contacts | filter:{role: \'contact\'}" value={{user._id}}>{{user.first_name}} {{user.last_name}}</md-option></md-select></md-input-container></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>{{clientdtl.submit}}</button> <a class="btn btn-default btn-lg btn-login" ng-click=clientdtl.cancel(previousPage)>Cancel</a></div><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></form></div></md-content>'),a.put("app/clientdash/clientdash.html",'<md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Client Dashboard</span> <span flex></span><div layout-margin hide-sm hide-xs>{{clientdash.currentUser.first_name}} {{clientdash.currentUser.last_name}}:</div><div layout-margin hide-sm hide-xs>{{clientdash.currentUser.client_name}}</div><div><img class=img-user-avatar src={{clientdash.currentUser.img_url}} alt="image caption"></div></div></md-toolbar><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><h4>Current Purchase Orders</h4><div><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>PO Id</th><th md-column>Hours</th><th md-column>Contractor</th><th md-column>Warn Level</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="p in clientdash.clientPos | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href="/contractorpo?poid={{p._id}}">{{p.poid}}</a></td><td md-cell>{{p.hours}}</td><td md-cell layout-margin><img class=img-user-avatar src={{p.contractor_image}} class=md-avatar alt="image caption"> {{p.contractor_name}}</td><!--<td md-cell ng-show="p.warning_high" layout-margin><i class="material-icons" style="color:red">warning</i></td>--><td md-cell ng-show=p.warning_high layout-margin><i class="material-icons md-24" style=color:red>fiber_manual_record</i></td><td md-cell ng-show=p.warning_medium layout-margin><i class="material-icons md-24" style=color:orange>fiber_manual_record</i></td><td md-cell ng-show=p.warning_low layout-margin><i class="material-icons md-24" style=color:green>fiber_manual_record</i></td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{clientdash.clientPos.length}}></md-table-pagination></div><md-divider></md-divider><div layout=row><div>warning levels:</div></div><div layout=row layout-align="center center" layout-margin><div flex=33><h6>Low</h6><h7>( less than 50% utilization )</h7></div><div flex=33><h6>Medium</h6><h7>( 50% - 90% )</h7></div><div flex=33><h6>High</h6><h7>( greater than 90% utilization )</h7></div></div><div layout=row layout-align="center center" layout-margin><div flex=33><i class="material-icons md-24" style=color:green>fiber_manual_record</i></div><div flex=33><i class="material-icons md-24" style=color:orange>fiber_manual_record</i></div><div flex=33><i class="material-icons md-24" style=color:red>fiber_manual_record</i></div></div></div></div><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><h4>Current Invoices</h4><div><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>Date</th><th md-column>Invoice</th><th md-column>Status</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="i in clientdash.openInvoices | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell>{{i.date}}</td><td md-cell><a href="/invoiceview?invoice={{i._id}}">{{i.name}}</a></td><td md-cell><md-chips><md-chip ng-show="i.status==\'entered\'" style="background-color:yellow; color:darkslategrey">Entered</md-chip><md-chip ng-show="i.status==\'invoiced\'" style="background-color:orange; color:white">Invoiced</md-chip><md-chip ng-show="i.status==\'sent\'" style="background-color:red; color:white">Sent</md-chip><md-chip ng-show="i.status==\'received\'" style="background-color:green; color:white">Received</md-chip><md-chip ng-show="i.status==\'paid\'" style="background-color:green; color:white">Complete</md-chip></md-chips></td><!--<td md-cell><a  href="/timeentrydtl/{{contractordash.currentUser._id}}/{{t._id}}">{{t.short_date}}</a></td>--><!--<td md-cell>{{t.hours}}</td>--><!--<td md-cell>{{t.category}}</td>--><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{clientdash.openInvoices.length}}></md-table-pagination></div></div></div></div><!--<div layout-gt-xs="row" class="top-admin">--><!--&lt;!&ndash;Place Holder for Chart that shows the time usage over time for each PO.&ndash;&gt;--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex layout-margin class="grey-heading">--><!--<h4 layout-margin >Trending</h4>--><!--<c3chart layout-margin bindto-id="chart1">--><!--<chart-column column-id="data 1"--><!--column-values="30,200,100,400,150,250"--><!--column-color="blue"--><!--column-type="spline"/>--><!--<chart-column column-id="data 2"--><!--column-color="orange"--><!--column-values="50,20,10,40,15,25"--><!--column-type="line"/>--><!--</c3chart>--><!--</div>--><!--</div>--><!--</div>--><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div flex layout-margin class=grey-heading><div layout-margin><h4>PO Hours breakdown</h4><h6>(Current open PO usage)</h6><div id=chart1></div></div></div></div></div>'),a.put("app/cont_po/cont_po.html","<div>This is the cont_po view.</div>"),a.put("app/contractordash/contractordash.html",'<!--<div>This is the contractordash view.</div>--><md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Contractor Dashboard</span> <span flex></span><div layout-margin>{{contractordash.currentUser.first_name}} {{contractordash.currentUser.last_name}}</div><div><img class=img-user-avatar src={{contractordash.currentUser.img_url}} class=md-avatar alt="image caption"></div><!--<div>{{contractordash.currentuser.first_name}} {{contratordash.currentuser.last_name}}</div>--><!--<md-button ng-if=!time.showform ng-click="time.showinputform()">Add Time</md-button>--><!--<md-button class="md-primary">Accent Hue 1</md-button>--><!--<div ng-if="!time.showform"><a ng-click="time.showinputform()"><i class="material-icons">playlist_add</i></a></div>--></div></md-toolbar><!--<div layout-gt-xs="row">--><!--<div flex>--><!--<md-card class="card-header">--><!--<div layout-gt-xs="row">--><!--<div layout-margin>--><!--<md-card_title-text>--><!--<div>--><!--<h2>{{contractordash.currentUser.first_name}} {{contractordash.currentUser.last_name}}</h2>--><!--<h5>{{contractordash.currentUser.email}}</h5>--><!--<h5>{{contractordash.currentUser.phone}}</h5>--><!--&lt;!&ndash;<md-button class="btn btn-inverse btn-lg color-add" href="/timeentrydtl/{{contractordash.currentUser._id}}/0">&ndash;&gt;--><!--&lt;!&ndash;<i class="material-icons">playlist_add</i>Add Time&ndash;&gt;--><!--&lt;!&ndash;</md-button>&ndash;&gt;--><!--<a class="btn btn-default btn-lg btn-login"  href="/timeentrydtl/{{contractordash.currentUser._id}}">--><!--Add Time--><!--</a>--><!--</div>--><!--</md-card_title-text>--><!--</div>--><!--<span flex></span>--><!--<div layout-margin>--><!--<md-card-title>--><!--<md-card-title-media>--><!--<div class="md-avatar">--><!--<img class="img-avatar" src="{{contractordash.currentUser.img_url}}" class="md-avatar" alt="image caption">--><!--</div>--><!--</md-card-title-media>--><!--</md-card-title>--><!--</div>--><!--</div>--><!--&lt;!&ndash;<md-card-actions layout="row" layout-align="end center">&ndash;&gt;--><!--&lt;!&ndash;<md-button>Action 1</md-button>&ndash;&gt;--><!--&lt;!&ndash;<md-button>Action 2</md-button>&ndash;&gt;--><!--&lt;!&ndash;</md-card-actions>&ndash;&gt;--><!--</md-card>--><!--</div>--><!--</div>--><!--<div layout-gt-xs="row" class="top-admin" ng-show="true">--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading">--><!--<h4 style="color:red">NOTIFICATION:</h4>--><!--<h7>Invoice I321678 has been moved to Invoiced Status!</h7>--><!--</div>--><!--</div>--><!--</div>--><div layout=column class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><div><span><h4>Current PO\'s</h4></span> <span flex></span><div><md-input-container><label>Clients</label><md-select name=clientid ng-change=contractordash.setPoList() ng-model=contractordash.client._id><md-option ng-repeat="client in contractordash.contractorClients" ng-value=client._id>{{client.client_name}}</md-option></md-select></md-input-container></div></div><md-table-container ng-show=contractordash.all_purchase_orders><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>Client</th><th md-column md-order-by=po.name>PO</th><th md-column md-order-by=po.project>Project ID</th><!--<th md-column md-order-by="po.hours">Hours</th>--><!--<th md-column md-order-by="po.hours_used">Used</th>--><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="t in contractordash.contractorPos  | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell layout-margin><img class=img-user-avatar src={{t.clientImage}} class=md-avatar alt="image caption"></td><td md-cell><a href="/contractorpo?poid={{t._id}}">{{t.poid}}</a></td><td md-cell>{{t.project}}</td><!--<td md-cell>{{t.hours}}</td>--><!--<td md-cell>{{t.hours_used}}</td>--><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-container ng-show=contractordash.filtered_purchase_orders><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>Client</th><th md-column md-order-by=po.name>PO</th><th md-column md-order-by=po.project>Project ID</th><!--<th md-column md-order-by="po.hours">Hours</th>--><!--<th md-column md-order-by="po.hours_used">Used</th>--><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="t in contractordash.filteredPos  | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell layout-margin><img class=img-user-avatar src={{t.clientImage}} class=md-avatar alt="image caption"></td><td md-cell><a href="/contractorpo?poid={{t._id}}">{{t.poid}}</a></td><td md-cell>{{t.project}}</td><!--<td md-cell>{{t.hours}}</td>--><!--<td md-cell>{{t.hours_used}}</td>--><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination ng-show=contractordash.all_purchase_orders md-limit=query.limit md-page=query.page md-total={{contractordash.contractorPos.length}}></md-table-pagination><md-table-pagination ng-show=contractordash.filtered_purchase_orders md-limit=query.limit md-page=query.page md-total={{contractordash.filteredPos.length}}></md-table-pagination></div></div><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><h4>Current Invoiced Hours</h4><div><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>Invoice ID</th><th md-column>Hours</th><th md-column>Cost</th><th md-column>Status</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="i in contractordash.contractorInvoices | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href="/invoiceview?invoice={{i._id}}">{{i.name}}</a></td><td md-cell>{{i.total_hours}}</td><td md-cell>{{i.total_contractor_cost | currency:"$"}}</td><!--<td md-cell>{{i.status}}</td>--><td md-cell><md-chips><md-chip ng-show="i.status==\'entered\'" style="background-color:yellow; color:darkslategrey">Entered</md-chip><md-chip ng-show="i.status==\'invoiced\'" style="background-color:red; color:white">Invoiced</md-chip><md-chip ng-show="i.status==\'sent\'" style="background-color:red; color:white">Sent</md-chip><md-chip ng-show="i.status==\'received\'" style="background-color:green; color:white">Complete</md-chip><md-chip ng-show="i.status==\'paid\'" style="background-color:green; color:white">Complete</md-chip></md-chips></td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{contractordash.contractorInvoices.length}}></md-table-pagination></div></div></div><!--</div>--><!--<div layout-gt-xs="row" class="top-admin">--><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><h4>Current Open Timesheets</h4><h6>(timesheets that aren\'t currenty invoiced)</h6><div><md-table-container><table md-table md-row-select=true><thead md-head md-order=contractordash.timesheets.query.order><tr md-row><th md-column>Date</th><th md-column>Hours</th><th md-column>Description</th><th md-column>Category</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="t in contractordash.enteredTimesheets | orderBy: contractordash.timesheetsquery.order | limitTo: contractordash.timesheetsquery.limit: (contractordash.timesheetsquery.page-1) * contractordash.timesheetsquery.limit"><td md-cell><a href=/timeview/{{contractordash.currentUser._id}}/{{t._id}}>{{t.short_date}}</a></td><td md-cell>{{t.hours}}</td><td md-cell>{{t.desc}}</td><td md-cell><md-chips><md-chip ng-show="t.category==\'dev\'" style="background-color:orange; color:white">Development</md-chip><md-chip ng-show="t.category==\'admin\'" style="background-color:greenyellow; color:grey">Admin</md-chip><md-chip ng-show="t.category==\'test\'" style="background-color:blue; color:white">Testing</md-chip></md-chips></td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=contractordash.timesheetsquery.limit md-page=contractordash.timesheetsquery.page md-total={{contractordash.enteredTimesheets.length}}></md-table-pagination><div layout=row layout-margin><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg red-heading" href=/timeentrydtl/{{contractordash.currentUser._id}}><i class=material-icons>playlist_add</i><span>Add Timesheet</span></md-button></div></div></div></div><!--</div>--><!--<div layout-gt-xs="row" class="top-admin">--><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><h4>Trending Timeline</h4><h6>(Hours by category)</h6><!--<div flex id="chart1" layout-margin></div>--><div id=chart1></div><!--<chart-column column-id="data 1"--><!--column-values="30,200,100,400,150,250"--><!--column-color="yellow"--><!--column-type="spline"/>--><!--<chart-column column-id="data 2"--><!--column-values="50,20,10,40,15,25"--><!--column-color="blue"--><!--column-type="line"/>--></div></div></div><div layout=row layout-xs=column layout-margin><!--<div flex>--><!--<h4>Code Usage</h4>--><!--<c3chart bindto-id="stacked-bar-plot1-chart">--><!--<chart-column column-id="data 1"--><!--column-name="Data 1"--><!--column-color="orange"--><!--column-values="30,200,100,400,150,250"--><!--column-type="bar"/>--><!--<chart-group group-values="data"/>--><!--</c3chart>--><!--</div>--></div><!--<div layout="row" layout-xs="column"  class="usage_background">--><!--<div flex layout-margin>--><!--<h4 class="chart-title-white">PO Usage</h4>--><!--<c3chart bindto-id="donut-plot1-chart2">--><!--<chart-column column-id="Data 1"--><!--column-values="70"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 2"--><!--column-values="35"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 3"--><!--column-values="60"--><!--column-type="donut"/>--><!--<chart-donut title="Donut" width="60"/>--><!--</c3chart>--><!--</div>--><!--<div flex layout-margin>--><!--<h4>Skill Usage</h4>--><!--<c3chart bindto-id="donut-plot1-chart3">--><!--<chart-column column-id="Data 1"--><!--column-values="70"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 2"--><!--column-values="35"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 3"--><!--column-values="60"--><!--column-type="donut"/>--><!--<chart-donut title="Donut" width="60"/>--><!--</c3chart>--><!--</div>--><!--<div flex layout-margin>--><!--<h4>DB Usage</h4>--><!--<c3chart bindto-id="donut-plot1-chart4">--><!--<chart-column column-id="Data 1"--><!--column-values="70"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 2"--><!--column-values="35"--><!--column-type="donut"/>--><!--<chart-column column-id="Data 3"--><!--column-values="60"--><!--column-type="donut"/>--><!--<chart-donut title="Donut" width="60"/>--><!--</c3chart>--><!--</div>--><!--</div>-->'),
a.put("app/contractorpo/contractorpo.html",'<md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Purchase Order Id: {{contractorpo.currentPo.poid}}</span> <span flex></span><div hide-sm hide-xs layout-margin>{{contractorpo.client.client_name}}</div><div><img class=img-user-avatar src={{contractorpo.client.img_url}} class=md-avatar alt="image caption"></div><!--<md-button ng-if=!time.showform ng-click="time.showinputform()">Add Time</md-button>--><!--<md-button class="md-primary">Accent Hue 1</md-button>--><!--<div ng-if="!time.showform"><a ng-click="time.showinputform()"><i class="material-icons">playlist_add</i></a></div>--></div></md-toolbar><div layout=column class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><h4>Details</h4><h5 layout-margin>PO Description</h5><md-input-container class=md-block flex-gt-xs><pre><h5>{{contractorpo.currentPo.podesc}}</h5></pre></md-input-container><md-input-container class=md-block flex-gt-xs><label>Project ID</label><h4><input ng-model=contractorpo.currentPo.project disabled style="color: {{contractorpo.disabledTextColor}}"></h4></md-input-container><md-input-container class=md-block flex-gt-xs><label>PO Hours</label><h4><input ng-model=contractorpo.currentPo.hours disabled style="color: {{contractorpo.pohoursTextColor}}"></h4></md-input-container><md-input-container class=md-block flex-gt-xs><label>Hours Used</label><h4><input ng-model=contractorpo.hours_used disabled style="color: {{contractorpo.pohoursTextColor}}"></h4></md-input-container><md-input-container class=md-block flex-gt-xs><label>Hours Invoiced</label><h4><input ng-model=contractorpo.hours_invoiced disabled style="color: {{contractorpo.disabledTextColor}}"></h4></md-input-container></div></div><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><div ng-show=contractorpo.show_hours_used layout-margin><h4>Total Usage</h4><h6>(total time entered/total PO time)</h6><div id=chart1></div></div><div ng-show=contractorpo.show_charts layout-margin><h4>Invoiced</h4><h6>(Time invoiced of time entered)</h6><div id=chart2></div></div></div></div></div><md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Trending Timeline</span> <span flex></span><div ng-if=!contractorpo.trending_show><a ng-click=contractorpo.toggleTrendingView()><md-button layout-margin style=color:white><i class=material-icons>keyboard_arrow_down</i></md-button></a></div><div ng-if=contractorpo.trending_show><a ng-click=contractorpo.toggleTrendingView()><md-button layout-margin style=color:white><i class=material-icons>keyboard_arrow_up</i></md-button></a></div></div></md-toolbar><div layout-gt-xs=column class=top-admin><div flex layout-margin class=contractor-sublist><div ng-show=contractorpo.trending_show flex class=grey-heading><!--<h4>Trending Timeline</h4>--><h6>(Hours by category)</h6><!--<div flex id="chart1" layout-margin></div>--><div id=chart4></div><!--<chart-column column-id="data 1"--><!--column-values="30,200,100,400,150,250"--><!--column-color="yellow"--><!--column-type="spline"/>--><!--<chart-column column-id="data 2"--><!--column-values="50,20,10,40,15,25"--><!--column-color="blue"--><!--column-type="line"/>--></div></div></div><md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>{{contractorpo.currentPo.poid}} - Timesheets</span> <span flex></span><div ng-if=!contractorpo.timesheet_show><a ng-click=contractorpo.toggleTimesheetView()><md-button layout-margin style=color:white><i class=material-icons>keyboard_arrow_down</i></md-button></a></div><div ng-if=contractorpo.timesheet_show><a ng-click=contractorpo.toggleTimesheetView()><md-button layout-margin style=color:white><i class=material-icons>keyboard_arrow_up</i></md-button></a></div></div></md-toolbar><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div ng-if=contractorpo.timesheet_show flex class=grey-heading layout-margin><div><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=short_date>Date</th><th md-column>Hours</th><th md-column hide-sm hide-xs>Description</th><th md-column>Category</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="t in contractorpo.currentTimesheets | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href=/timeview/{{contractorpo.currentuser._id}}/{{t._id}}>{{t.short_date}}</a></td><!--<td md-cell>{{t.status}}</td>--><td md-cell>{{t.hours}}</td><td md-cell hide-sm hide-xs><h5 style=color:darkslategrey>{{t.desc}}</h5></td><td md-cell><md-chips><md-chip ng-show="t.category==\'dev\'" style="background-color:orange; color:white">Development</md-chip><md-chip ng-show="t.category==\'admin\'" style="background-color:greenyellow; color:grey">Admin</md-chip><md-chip ng-show="t.category==\'test\'" style="background-color:lightblue; color:lightslategrey">Testing</md-chip></md-chips></td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{contractorpo.currentTimesheets.length}}></md-table-pagination></div></div></div></div><div layout-margin><a class="btn btn-default btn-lg btn-login" ng-click=contractorpo.back()>Back</a></div><!--<div>--><!--<c3chart bindto-id="gauge-plot1-chart">--><!--<chart-column column-id="Data 1"--><!--column-values="70"--><!--column-type="gauge"/>--><!--<chart-gauge min="0"--><!--max="110"--><!--units=" hours"--><!--width="39"/>--><!--<chart-colors color-pattern="#e11a7e,#49ff00"--><!--thresholds="1,65"--><!--/>--><!--</c3chart>--><!--</div>-->'),a.put("app/invoice/invoice.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Invoice List:</div></div></md-toolbar><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=name><span>Invoice ID</span></th><th md-column>Date</th><th md-column>Status</th><th md-column>PO</th><th md-column>Hours</th><th md-column>Revenue</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-select=inv ng-repeat="inv in invlist.viewInvoices | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href="/invoiceview?invoice={{inv.invoice_id}}">{{inv.name}}</a></td><td md-cell>{{inv.date}}</td><td md-cell>{{inv.status}}</td><td md-cell>{{inv.poid}}</td><td md-cell>{{inv.total_hours}}</td><td md-cell>{{inv.revenue | currency:"USD$"}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{invlist.viewInvoices.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg" href=/invoicedtl><i class=material-icons>playlist_add</i><span>New Invoice</span></md-button></div>'),a.put("app/invoice/invoicedtl.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Invoice Detail:</div></div></md-toolbar><md-content layout-padding=""><div><form class=form name=invoiceForm ng-submit=invdtl.register(invoiceForm,previousPage)><!--<div layout-gt-xs="row">--><!--<div flex>--><!--<h6>Invoice Entered</h6>--><!--<div>--><!--<md-datepicker type="date" ng-model="invdtl.currentinvoice.date" md-placeholder="Invoice Date"></md-datepicker>--><!--</div>--><!--</div>--><!--</div>--><div layout-gt-xs=row><div flex><md-input-container class=md-block flex-gt-xs=""><label>Invoice ID (Required)</label><input ng-model=invdtl.currentinvoice.name required><div ng-messages=invdtl.currentinvoice.name.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have an Invoice ID</div></div></md-input-container></div><div flex><md-input-container class=md-block flex-gt-sm=""><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Purchase Order (required)</label><md-select name=po id=po ng-model=invdtl.currentinvoice.po ng-change=invdtl.settimesheets() required><md-option ng-repeat="(i,item) in invdtl.pos" ng-value={{item}} ng-selected="i == 0 ? true:false">{{item.poid}}</md-option></md-select><div ng-messages=invdtl.currentinvoice.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Purchase Order Required.</div></div></md-input-container></div></div><md-table-container><table md-table md-row-select=true ng-model=invdtl.selected><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=po.name>PO name</th><th md-column md-order-by=short_date>Date Entered</th><th md-column md-order-by=hours>Hours</th><th md-column>Desc</th><th md-column>Contractor Name</th><th md-column>Rate</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-on-select=invdtl.check_error() md-select=t ng-repeat="t in invdtl.timesheets| orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell>{{t.name}}</td><td md-cell>{{t.short_date}}</td><td md-cell>{{t.hours}}</td><td md-cell>{{t.desc}}</td><td md-cell>{{t.contractor_name}}</td><td md-cell>{{t.rate}}/hr</td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{time.currentuser.timesheets.length}}></md-table-pagination><div layout-gt-xs=row><div flex><h5>Hours Total: <span>{{invdtl.selected|sumByKey:\'hours\'}}</span></h5></div><div flex><h5>Contractor Cost: <span>{{invdtl.selected|sumByKey:\'contractor_cost\'| currency:"$"}}</span></h5></div><div flex><h5>Client revenue: <span>{{invdtl.selected|sumByKey:\'client_revenue\'| currency:"$"}}</span></h5></div><div flex><h5>MY revenue: <span>{{invdtl.selected|sumByKey:\'my_revenue\'| currency:"$"}}</span></h5></div></div><md-divider></md-divider><div layout-gt-xs=row><br></div><div layout-gt-xs=row><div><button class="btn btn-inverse btn-lg btn-register" type=submit>{{invdtl.submit}}</button> <a class="btn btn-default btn-lg btn-login" ng-click=invdtl.cancel(previousPage)>Cancel</a></div><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div><div flex class=error>{{invdtl.error_string}}</div></div></form></div></md-content>'),a.put("app/invoice/invoiceview.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Invoice View:</div><span flex></span><div hide-sm hide-xs layout-margin>{{inview.client.client_name}}</div><div layout-margin><img class=img-user-avatar src={{inview.client.img_url}} class=md-avatar alt="image caption"></div></div></md-toolbar><!--<div layout-gt-xs="row" class="top-admin">--><!--<div flex>--><div layout=column class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><h4>Details:</h4><div layout=row><div><h4 class=header_info>Invoice ID:</h4><h4 class=header_info>PO:</h4><h4 class=header_info>Project</h4><h4 class=header_info>Client:</h4><h4 class=header_info>Email:</h4><h4 class=header_info>Contractor:</h4><h4></h4></div><span flex></span><div><h4 class=header_info>{{inview.currentInvoice.name}}</h4><h4 class=header_info>{{inview.currentInvoice.po.poid}}</h4><h4 class=header_info>{{inview.po.project}}</h4><h4 class=header_info>{{inview.client.client_name}}</h4><h4 class=header_info>{{inview.client.email}}</h4><h4 class=header_info>{{inview.invoiceContractor.first_name}} {{inview.invoiceContractor.last_name}}</h4><!--<img class="img-user-avatar" src="{{inview.invoiceContractor.img_url}}" class="md-avatar" alt="image caption">--></div></div><md-divider></md-divider><div layout-gt-xs=row layout-margin><h4 style=color:grey>Invoice Total Hours:</h4><span flex></span><h4>{{inview.hoursTotal}}</h4></div><!--<md-divider></md-divider>--><div layout-gt-xs=row layout-margin><h4 style=color:orangered>Invoice Total Cost:</h4><span flex></span><h4>{{inview.contractorCost | currency:"$"}}</h4></div><!--</div>--></div></div><!----><div flex><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><h4>Timesheets:</h4><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column>Date</th><!--<th md-column hide-sm hide-xs>Contractor</th>--><th md-column>Hours</th><th md-column>Category</th><!--<th md-column ng-show={{inview.showDelete}}>Remove</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-select=t ng-repeat="t in inview.currentInvoice.timesheets | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href=/timeview/{{t.contractor._id}}/{{t.id}}>{{t.short_date}}</a></td><!--<td md-cell layout-margin hide-xs hide-sm><img class="img-user-avatar" src="{{t.contractor.img_url}}" class="md-avatar" alt="image caption">--><!--{{t.contractor.first_name}} {{t.contractor.last_name}}--><!--</td>--><td md-cell>{{t.hours}}</td><td md-cell><md-chips><md-chip ng-show="t.category==\'dev\'" style="background-color:orange; color:white">Development</md-chip><md-chip ng-show="t.category==\'admin\'" style="background-color:greenyellow; color:grey">Admin</md-chip><md-chip ng-show="t.category==\'test\'" style="background-color:lightblue; color:lightslategrey">Testing</md-chip></md-chips></td><!--<td md-cell ng-if="inview.currentInvoice.status==\'entered\'"><a ng-click="inview.remove(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell ng-if="inview.currentInvoice.status !=\'entered\'"><i class="material-icons" style="color:red">done</i></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{inview.currentInvoice.timesheets.length}}></md-table-pagination></div></div></div></div><!----></div><div layout-gt-xs=row class=top-admin ng-show=true><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading">--><!--<div layout-gt-xs="row">--><!--<div flex>--><!--<h4 class="header_info">Invoice ID:</h4>--><!--<h4 class="header_info">Purchase Order:</h4>--><!--<h4 class="header_info">Project</h4>--><!--<h4 class="header_info">Client:</h4>--><!--<h4></h4>--><!--</div>--><!--<div flex>--><!--<h4 class="header_info">{{inview.currentInvoice.name}}</h4>--><!--<h4 class="header_info">{{inview.currentInvoice.po.poid}}</h4>--><!--<h4 class="header_info">{{inview.po.project}}</h4>--><!--<h4 class="header_info">{{inview.client.client_name}}</h4>--><!--<h4 class="header_info">{{inview.client.email}}</h4>--><!--</div>--><!--</div>--><!--</div>--><!--</div>--><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><div ng-show=inview.showAdmin layout-margin><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label><h4 class=header_info>Current Status</h4></label><md-select class=header_info id=status name=status ng-model=inview.currentInvoice.status required><md-option ng-repeat="stat in inview.status" value={{stat.type}}><h1 class=status_info>{{stat.desc}}</h1></md-option></md-select></div><div ng-show=!inview.showAdmin flex=100 align=center><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label><h4 class=header_info>Current Status</h4></label><md-divider></md-divider><!--<div class="center">--><!--<h3 style="text-transform: uppercase; color: darkslategrey">{{inview.currentInvoice.status}}</h3>--><!--&lt;!&ndash;<h2 class="status_info"> {{inview.currentInvoice.status}} </h2>&ndash;&gt;--><!--</div>--></div><div flex=100 layout=row layout-align="center center"><!--ENTERED STEP VISUAL--><div ng-if="inview.currentInvoice.status == \'entered\'" layout=row layout-align="center center"><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:green>fiber_manual_record</i><h4 style=color:green>Entered</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Sent</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Recieved</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Paid</h4></div></div></div><!--SENT STEP VISUAL--><div ng-if="inview.currentInvoice.status == \'sent\'" layout=row layout-align="center center"><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Entered</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:green>fiber_manual_record</i><h4 style=color:green>Sent</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Recieved</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Paid</h4></div></div></div><!--RECIEVED STEP VISUAL--><div ng-if="inview.currentInvoice.status == \'received\'" layout=row layout-align="center center"><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Entered</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Sent</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:green>fiber_manual_record</i><h4 style=color:green>Recieved</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons>fiber_manual_record</i><h4>Paid</h4></div></div></div><!--PAID STEP VISUAL--><div ng-if="inview.currentInvoice.status == \'paid\'" layout=row layout-align="center center"><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Entered</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Sent</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:lightgrey>fiber_manual_record</i><h4 style=color:lightgrey>Recieved</h4></div></div><div flex layout-margin><div layout=column layout-align="center center"><i class=material-icons style=color:green>fiber_manual_record</i><h4 style=color:green>Paid</h4></div></div></div></div><!--<md-progress-linear md-mode="determinate" value={{inview.progress}}></md-progress-linear>--></div></div></div><!--<md-toolbar class="md-table-toolbar md-default">--><!--<div class="md-toolbar-tools">--><!--<div>Invoice Time Sheets:</div>--><!--</div>--><!--</md-toolbar>--><!--<div ng-show="inview.showList" layout-gt-xs="row" class="top-admin">--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading" layout-margin>--><!--<md-table-container>--><!--<table md-table md-row-select="true">--><!--<thead md-head md-order="query.order">--><!--<tr md-row>--><!--<th md-column>Date</th>--><!--<th md-column hide-sm hide-xs>Contractor</th>--><!--<th md-column>Hours</th>--><!--<th md-column>Category</th>--><!--&lt;!&ndash;<th md-column ng-show={{inview.showDelete}}>Remove</th>&ndash;&gt;--><!--</tr>--><!--</thead>--><!--<tbody md-body>--><!--&lt;!&ndash; we can let ng-repeat sort the columns for us &ndash;&gt;--><!--<tr md-row md-select="t"  ng-repeat="t in inview.currentInvoice.timesheets | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit">--><!--<td md-cell><a href="/timeview/{{t.contractor._id}}/{{t.id}}">{{t.short_date}}</a></td>--><!--<td md-cell layout-margin hide-xs hide-sm><img class="img-user-avatar" src="{{t.contractor.img_url}}" class="md-avatar" alt="image caption">--><!--{{t.contractor.first_name}} {{t.contractor.last_name}}--><!--</td>--><!--<td md-cell>{{t.hours}}</td>--><!--<td md-cell>--><!--<md-chips>--><!--<md-chip ng-show="t.category==\'dev\'" style="background-color:orange; color:white">Development</md-chip>--><!--<md-chip ng-show="t.category==\'admin\'" style="background-color:greenyellow; color:grey">Admin</md-chip>--><!--<md-chip ng-show="t.category==\'test\'" style="background-color:lightblue; color:lightslategrey">Testing</md-chip>--><!--</md-chips>--><!--</td>--><!--&lt;!&ndash;<td md-cell ng-if="inview.currentInvoice.status==\'entered\'"><a ng-click="inview.remove(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>&ndash;&gt;--><!--&lt;!&ndash;<td md-cell ng-if="inview.currentInvoice.status !=\'entered\'"><i class="material-icons" style="color:red">done</i></td>&ndash;&gt;--><!--</tr>--><!--</tbody>--><!--</table>--><!--</md-table-container>--><!--<md-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{inview.currentInvoice.timesheets.length}}"></md-table-pagination>--><!--</div>--><!--</div>--><!--</div>--><!--<md-toolbar class="md-table-toolbar md-default">--><!--<div class="md-toolbar-tools white-text">--><!--<span>Trending Timeline</span>--><!--</div>--><!--</md-toolbar>--><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading layout-margin><h4>Trending Timeline</h4><h6>(Hours by category)</h6><!--<div flex id="chart1" layout-margin></div>--><div id=chart4></div><!--<chart-column column-id="data 1"--><!--column-values="30,200,100,400,150,250"--><!--column-color="yellow"--><!--column-type="spline"/>--><!--<chart-column column-id="data 2"--><!--column-values="50,20,10,40,15,25"--><!--column-color="blue"--><!--column-type="line"/>--></div></div></div><div layout-margin><a class="btn btn-default btn-lg btn-login" ng-click=inview.cancel()>Back</a> <a ng-show=inview.showAdmin class="btn btn-default btn-lg btn-login" ng-click=inview.update()>Update</a> <a ng-show=inview.show_delete_invoice class="btn btn-default btn-lg btn-login" ng-click=inview.delete(inview.currentInvoice)>Delete</a></div>'),a.put("app/main/main.html",""),a.put("app/milestones/milestones.html","<div>This is the milestones view.</div>"),a.put("app/po/po.html",'<!--<md-content>--><!--<md-list>--><!--<md-subheader class="md-no-sticky">3 line item</md-subheader>--><!--<md-list-item layout="row" class="md-3-line" ng-repeat="po in myPOs">--><!--<div class="md-list-item-text" layout="column">--><!--<h3>PO ID: {{ po.poid }}</h3>--><!--<h2>PO Description: {{ po.podesc }}</h2>--><!--<h3>{{ po.pohours}}</h3>--><!--<h3>{{ po.poclient}}</h3>--><!--</div>--><!--</md-list-item>--><!--<md-divider ></md-divider>--><!--</md-list>--><!--</md-content>--><md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Purchase Order Maintenance</span><div flex></div><md-button class=md-icon-button ng-click=loadStuff()><md-icon>refresh</md-icon></md-button></div></md-toolbar><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=poid>PO Id</th><th md-column>Desc</th><th md-column>Hours</th><th md-column>Project</th><th md-column>Contractor</th><th md-column>Client</th><th md-column>Info</th><th md-column>Delete</th></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row md-select=p ng-repeat="p in po.pos | orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td md-cell><a href="/podtl?poid={{p._id}}">{{p.poid}}</a></td><td md-cell>{{p.podesc}}</td><td md-cell>{{p.hours}}</td><td md-cell>{{p.project}}</td><td md-cell><md-select ng-model=p.contractor placeholder=contractor ng-change=po.updatePo(p)><md-option ng-value=contractor._id ng-repeat="contractor in po.currentContractors">{{contractor.first_name}} {{contractor.last_name}}</md-option></md-select></td><td md-cell><md-select ng-model=p.client placeholder=client ng-change=po.updatePo(p)><md-option ng-value=client._id ng-repeat="client in po.currentClients">{{client.client_name}}</md-option></md-select></td><td md-cell ng-click="po.editComment($event, p, $index)" ng-class="{\'md-placeholder\': !p.info}">{{p.info || \'Status\'}}</td><td md-cell><a ng-click=po.delete(p)><md-button><i class=material-icons>clear</i></md-button></a></td></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{po.pos.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><md-button class="btn btn-inverse btn-lg" href=/podtl><i class=material-icons>playlist_add</i><span>New Order</span></md-button></div>'),a.put("app/po/podtl.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><span>Create New Purchase Order</span></div></md-toolbar><!--var PoSchema = new mongoose.Schema({--><!--poid: String,--><!--podesc: String,--><!--pohours: Number,--><!--poclient: String,--><!--popssa: String,--><!--pocontact: {--><!--type: mongoose.Schema.Types.ObjectId, ref: \'User  \'--><!--},--><!--info: String,--><!--active: Boolean--><!--});--><md-content layout-padding=""><div><form class=form name=poForm ng-submit=podtl.register(poForm,previousPage)><div layout-gt-xs=row><div flex><h6>PO Entered</h6><div><md-datepicker type=date ng-model=podtl.currentpo.date md-placeholder="PO Date"></md-datepicker></div></div></div><div layout-gt-xs=row><md-input-container class=md-block flex-gt-xs=""><label>Order ID (Required)</label><input ng-model=podtl.currentpo.poid required><div ng-messages=podtl.currentpo.poid.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a purchase order ID</div></div></md-input-container><md-input-container class=md-block flex-gt-xs=""><label>Project (Required)</label><input ng-model=podtl.currentpo.project required><div ng-messages=podtl.currentpo.project.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a project ID</div></div></md-input-container><md-input-container class=md-block flex-gt-xs=""><!--<md-icon><i class="material-icons">local_atm</i></md-icon>--><label>Hours (Required)</label><input ng-model=podtl.currentpo.hours type=number step=0.01 required><div ng-messages=podtl.currentpo.hours.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Rate Required</div></div></md-input-container></div><div layout=row><md-input-container class=md-block flex-gt-xs=""><label>Description (Required)</label><textarea ng-model=podtl.currentpo.podesc required md-maxlength=150 rows=5></textarea><div ng-messages=podtl.currentpo.podesc.$error ng-hide=showHints><div ng-message-exp="[\'required\']">You must have a last name</div></div></md-input-container></div><div layout-gt-xs=row><div flex><md-input-container><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Contractor</label><md-select name=contractor ng-model=podtl.currentpo.contractor><md-option ng-repeat="contractor in podtl.users | filter:{role: \'contractor\'}" value={{contractor._id}}>{{contractor.first_name}} {{contractor.last_name}}</md-option></md-select></md-input-container></div><div flex><md-input-container><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Contact</label><md-select name=contact ng-model=podtl.currentpo.contact><md-option ng-repeat="user in podtl.users | filter:{role: \'contact\'}" value={{user._id}}>{{user.first_name}} {{user.last_name}}</md-option></md-select></md-input-container></div><div flex><md-input-container><!--<md-icon><i class="material-icons">language</i></md-icon>--><label>Client</label><md-select name=client id=client ng-model=podtl.currentpo.client required><md-option ng-repeat="client in podtl.clients" value={{client._id}}>{{client.client_name}}</md-option></md-select><div ng-messages=poForm.client.$error ng-show=true><div ng-message-exp="[\'required\']">You must have a project ID</div></div></md-input-container></div></div><div layout-gt-xs=row></div><div layout-gt-xs=row></div><div layout=row></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>{{podtl.submit}}</button> <a class="btn btn-default btn-lg btn-login" ng-click=podtl.cancel(previousPage)>Cancel</a></div><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></form></div></md-content>'),a.put("app/sow/sow.html","<div>This is the sow view.</div>"),a.put("app/timeentry/timeentry.html",'<!--List vie of the time entries--><md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Time Entries</span> <span flex></span><div>{{time.currentuser.first_name}} {{time.currentuser.last_name}}</div><!--<md-button ng-if=!time.showform ng-click="time.showinputform()">Add Time</md-button>--><!--<md-button class="md-primary">Accent Hue 1</md-button>--><!--<div ng-if="!time.showform"><a ng-click="time.showinputform()"><i class="material-icons">playlist_add</i></a></div>--></div></md-toolbar><md-table-container><table md-table md-row-select=true><thead md-head md-order=query.order><tr md-row><th md-column md-order-by=short_date>Date</th><th md-column md-order-by=po.name>PO</th><th md-column md-order-by=hours>Hours</th><th md-column md-order-by=category>Category</th><th md-column md-order-by=status>Status</th><th md-column>Desc</th><th md-column>Technical skills</th><!--<th md-column>Delete</th>--></tr></thead><tbody md-body><!-- we can let ng-repeat sort the columns for us --><tr md-row ng-repeat="t in time.currentuser.timesheets| orderBy: query.order | limitTo: query.limit: (query.page-1) * query.limit"><td ng-if="t.status == \'entered\'" md-cell><a href=/timeentrydtl/{{time.currentuser._id}}/{{t._id}}>{{t.short_date}}</a></td><td ng-if="t.status != \'entered\'" md-cell><a href=/timeview/{{time.currentuser._id}}/{{t._id}}>{{t.short_date}}</a></td><td md-cell><a href="/contractorpo?poid={{t.po.id}}">{{t.po.name}}</a></td><td md-cell>{{t.hours}}</td><td md-cell><md-chips><md-chip ng-show="t.category==\'dev\'" style="background-color:orange; color:white">Development</md-chip><md-chip ng-show="t.category==\'admin\'" style="background-color:greenyellow; color:grey">Admin</md-chip><md-chip ng-show="t.category==\'test\'" style="background-color:red; color:white">Testing</md-chip></md-chips></td><td md-cell>{{t.status}}</td><td md-cell>{{t.desc}}</td><td md-cell><md-chips><md-chip ng-show=t.skillset.code.cplus>C++</md-chip><md-chip ng-show=t.skillset.code.javascript>JavaScript</md-chip><md-chip ng-show=t.skillset.code.csharp>C#</md-chip><md-chip ng-show=t.skillset.code.java>Java</md-chip><md-chip ng-show=t.skillset.code.plsql>PL/SQL</md-chip></md-chips></td><!--<td md-cell><a ng-click="time.removeitem($index)"><md-button><i class="material-icons">clear</i></md-button></a></td>--><!--<td md-cell><a ng-click="time.delete(t)"><md-button><i class="material-icons">clear</i></md-button></a></td>--></tr></tbody></table></md-table-container><md-table-pagination md-limit=query.limit md-page=query.page md-total={{time.currentuser.timesheets.length}}></md-table-pagination><div layout=row><span flex></span><!--<md-button class="md-raised md-primary" style="color: white" href="/podtl">New Order</md-button>--><div ng-if=!time.showform><md-button class="btn btn-inverse btn-lg" href=/timeentrydtl/{{time.currentuser._id}}/0><i class=material-icons>playlist_add</i><span>Add Time</span></md-button></div><!--<md-button class="md-raised md-primary" href="/timeentrydtl/{{time.currentuser._id}}/0"  aria-label="Add New Time Entry"><i class="material-icons">playlist_add</i><span>Add Time</span></button></div>--></div><md-divider></md-divider><!--<md-toolbar class="md-table-toolbar md-default">--><!--<md-toolbar class="md-table-toolbar md-default">--><!--<div class="md-toolbar-tools white-text">--><!--<span>Time Breakdown</span>--><!--<span flex></span>--><!--<div>{{time.currentuser.first_name}} {{time.currentuser.last_name}}</div>--><!--&lt;!&ndash;<md-button ng-if=!time.showform ng-click="time.showinputform()">Add Time</md-button>&ndash;&gt;--><!--&lt;!&ndash;<md-button class="md-primary">Accent Hue 1</md-button>&ndash;&gt;--><!--&lt;!&ndash;<div ng-if="!time.showform"><a ng-click="time.showinputform()"><i class="material-icons">playlist_add</i></a></div>&ndash;&gt;--><!--</div>--><!--</md-toolbar>--><!--<div layout="row" layout-xs="column">--><!--<div flex>--><!--<h4>Category Usage</h4>--><!--<div id="chart2"></div>--><!--</div>--><!--<div flex=>--><!--<h4>Code Skills</h4>--><!--<div id="chart3"></div>--><!--</div>--><!--<div flex=>--><!--<h4>Database Skills</h4>--><!--<div id="chart4"></div>--><!--</div>--><!--&lt;!&ndash;<div flex>&ndash;&gt;--><!--&lt;!&ndash;<h4>Code Usage</h4>&ndash;&gt;--><!--&lt;!&ndash;<c3chart bindto-id="stacked-bar-plot1-chart">&ndash;&gt;--><!--&lt;!&ndash;<chart-column column-id="data 1"&ndash;&gt;--><!--&lt;!&ndash;column-name="Data 1"&ndash;&gt;--><!--&lt;!&ndash;column-color="orange"&ndash;&gt;--><!--&lt;!&ndash;column-values="30,200,100,400,150,250"&ndash;&gt;--><!--&lt;!&ndash;column-type="bar"/>&ndash;&gt;--><!--&lt;!&ndash;<chart-group group-values="data"/>&ndash;&gt;--><!--&lt;!&ndash;</c3chart>&ndash;&gt;--><!--&lt;!&ndash;</div>&ndash;&gt;--><!--</div>--><div layout=row layout-xs=column><div flex><h4>Date/Time</h4><div id=chart1></div></div></div>'),
a.put("app/timeentry/timeentrydtl.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Create Time Entry:</div><span flex></span><div>{{timedtl.currentuser.first_name}} {{timedtl.currentuser.last_name}}</div></div></md-toolbar><md-content layout-padding="" ng-if=!timedtl.showindeterminate><div layout-gt-xs=row class=top-admin ng-show=true><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><form class=form name=timeForm novalidate ng-submit=timedtl.register(timeForm)><span><h4>Enter/Update Time Entry</h4></span> <span flex></span><div layout-gt-xs=row><div><h6>Entry Date</h6><md-datepicker type=date ng-model=timedtl.timesheet.date ng-change="timedtl.setcategories(timedtl.timesheet.date,\'\',timedtl.timesheet.po)" md-placeholder="Entry Date" required></md-datepicker></div><span flex></span><div flex ng-if=!timedtl.hours_available_warning><h4>Available Hours on Selected PO: <a style=color:red>{{timedtl.hours_available_visible}}</a></h4></div><div flex ng-if=timedtl.hours_available_warning><h4>Available Hours on Selected PO: <a style=color:green>{{timedtl.hours_available_visible}}</a></h4><h4><a style=color:red>You have exceeded the available hours.</a></h4></div><div ng-if=timedtl.allowDelete><a class="btn btn-default btn-lg btn-login" style=background-color:orange ng-click=timedtl.removeTimesheet()><i style=color:white class=material-icons>delete</i></a></div></div><hr><!--<div layout-gt-xs="row">--><!--<div layout-gt-xs="row">--><!--<md-input-container class="md-block" flex-gt-xs="">--><!--<label>Category (required)</label>--><!--<md-select id="status" name="status" ng-model="timedtl.status">--><!--<md-option ng-repeat="stat in timedtl.status" value="{{stat.type}}">--><!--{{stat.desc}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--><!--</div>--><!--</div>--><div layout-gt-xs=row><md-input-container class=md-block flex-gt-sm=""><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Purchase Order (required)</label><md-select ng-disabled=timedtl.updateForm name=po id=po ng-model=timedtl.timesheet.po._id ng-change="timedtl.setcategories(timedtl.timesheet.date,\'\',timedtl.timesheet.po)" required><md-option ng-repeat="item in timedtl.contractorpos" value={{item._id}}><!--ng-selected="i == 0 ? true:false">-->{{item.poid}}</md-option></md-select><div ng-messages=timeForm.order.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Purchase Order Required.</div></div></md-input-container><md-input-container class=md-block flex-gt-sm=""><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Category (required)</label><md-select id=category name=category ng-model=timedtl.timesheet.category required><md-option ng-repeat="cat in timedtl.categories" value={{cat.type}}>{{cat.desc}}</md-option></md-select></md-input-container><md-input-container class=md-block flex-gt-xs=""><label>Hours: (Required)</label><input id=hours name=hours type=number ng-change=timedtl.adjustAvailable() ng-model=timedtl.timesheet.hours required><div ng-messages=timeForm.hours.$error ng-hide=showHints><div ng-message-exp="[\'required\']">Hours Required.</div></div></md-input-container></div><div layout-gt-xs=row><div flex><md-input-container class=md-block flex-gt-xs=""><label>Description</label><textarea id=desc name=desc ng-model=timedtl.timesheet.desc columns=1 md-maxlength=200>\n            </textarea></md-input-container></div><div flex></div><div flex></div></div><md-divider></md-divider><div layout-gt-xs=row md-theme=altTheme ng-show=false><div flex=30><h5>Code Skills</h5><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.code.cplus aria-label=C++>C++</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.code.javascript aria-label=javascript>JavaScript</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.code.csharp aria-label=C#>C#</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.code.plsql aria-label=plsql>PL/SQL</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.code.java aria-label=Java>Java</md-switch></div><div flex=5></div><div flex=30><h5>Database Skills</h5><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.db.oracle aria-label=oracledb>Oracle DB</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.db.sqlserver aria-label=sqlserverdb>SQL Server</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.db.mysql aria-label=sqlserverdb>MySQL</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.db.mongo aria-label=mongodb>MongoDB</md-switch></div><div flex=5></div><div flex=30><h5>Leadership Skills</h5><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.leadership.management aria-label=manage>Management</md-switch><md-switch class=md-primary ng-model=timedtl.timesheet.skillset.leadership.training aria-label=lead>Training</md-switch></div></div><div flex=5 hide-xs="" hide-sm=""><br></div><div ng-if=!timedtl.showindeterminate><button class="btn btn-inverse btn-lg btn-register" type=submit ng-disabled=timeForm.$invalid>{{timedtl.submitbutton}}</button> <a class="btn btn-default btn-lg btn-login" ng-click=timedtl.cancel()>Cancel</a></div><br><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></form></div></div></div></md-content><div ng-if=timedtl.showindeterminate><div layout-sm=column align=center md-theme=altTheme layout-align=space-around><br><h4>Please wait while we register your timesheet...</h4><br><md-progress-circular class=md-primary md-mode=indeterminate md-diameter=100></md-progress-circular></div></div>'),a.put("app/timeentry/timeview.html",'<md-toolbar class="md-table-toolbar md-default"><div class=md-toolbar-tools><div>Time Entry Details</div><span flex></span><div>{{timeview.currentuser.first_name}} {{timeview.currentuser.last_name}}</div><div layout-margin><img class=img-user-avatar src={{timeview.currentuser.img_url}} class=md-avatar alt="image caption"></div></div></md-toolbar><div layout-gt-xs=row class=top-admin><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><div class=layout-row><h4>Time Sheet Information</h4><span flex></span><div layout-margin><img class=img-user-avatar src={{timeview.timesheet.client_image}} class=md-avatar alt="image caption"></div></div><md-divider></md-divider><div class=layout-row><div><h5>Date:</h5></div><span flex></span><div><h5>{{timeview.timesheet.short_date}}</h5></div></div><div class=layout-row><div><h5>Hours:</h5></div><span flex></span><div><h5>{{timeview.timesheet.hours}}</h5></div></div><div class=layout-row><div><h5>Purchase Order:</h5></div><span flex></span><div><h5>{{timeview.timesheet.po.name}}</h5></div></div><div class=layout-row><div><h5>Client:</h5></div><span flex></span><div><h5>{{timeview.timesheet.client_name}}</h5></div></div><md-divider></md-divider><div class=layout-row><div><h5>Description:</h5></div></div><div style="color: darkgreen"><h5><pre>{{timeview.timesheet.desc}}</pre></h5></div></div></div><div flex layout-margin class=contractor-sublist><div flex class=grey-heading><h4>Status</h4><md-divider></md-divider><div class=layout-row><div style="margin:auto; text-transform: uppercase"><h1 style=color:green>{{timeview.timesheet.status}}</h1></div></div></div></div></div><!--<md-toolbar class="md-table-toolbar md-default">--><!--<div class="md-toolbar-tools">--><!--<div>Skills Used:</div>--><!--</div>--><!--</md-toolbar>--><!--<div layout-gt-xs="row" class="top-admin">--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading">--><!--<h5>Code Skills</h5>--><!--<md-switch ng-show="timeview.timesheet.skillset.code.cplus" ng-model="timeview.timesheet.skillset.code.cplus" class="md-warn" aria-label="C++" disabled>--><!--C++--><!--</md-switch>--><!--<md-switch ng-show="timeview.timesheet.skillset.code.javascript" ng-model="timeview.timesheet.skillset.code.javascript" class="md-warn" aria-label="javascript" disabled>--><!--JavaScript--><!--</md-switch>--><!--<md-switch  ng-show="timeview.timesheet.skillset.code.csharp" ng-model="timeview.timesheet.skillset.code.csharp" class="md-warn" aria-label="C#" disabled>--><!--C#--><!--</md-switch>--><!--<md-switch ng-show="timeview.timesheet.skillset.code.plsql" ng-model="timeview.timesheet.skillset.code.plsql" class="md-warn"  aria-label="plsql" disabled>--><!--PL/SQL--><!--</md-switch>--><!--<md-switch ng-show="timeview.timesheet.skillset.code.java" ng-model="timeview.timesheet.skillset.code.java" class="md-warn" aria-label="Java" disabled>--><!--Java--><!--</md-switch>--><!--</div>--><!--</div>--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading">--><!--<h5>Database Skills</h5>--><!--<md-switch ng-model="timeview.timesheet.skillset.db.oracle" aria-label="oracledb" disabled>--><!--Oracle DB--><!--</md-switch>--><!--<md-switch ng-model="timeview.timesheet.skillset.db.sqlserver" aria-label="sqlserverdb" disabled>--><!--SQL Server--><!--</md-switch>--><!--<md-switch ng-model="timeview.timesheet.skillset.db.mysql" aria-label="sqlserverdb" disabled>--><!--MySQL--><!--</md-switch>--><!--<md-switch ng-model="timeview.timesheet.skillset.db.mongo" aria-label="mongodb" disabled>--><!--MongoDB--><!--</md-switch>--><!--</div>--><!--</div>--><!--<div flex layout-margin class="contractor-sublist">--><!--<div flex class="grey-heading">--><!--<h5>Leadership Skills</h5>--><!--<md-switch ng-model="timeview.timesheet.skillset.leadership.management" aria-label="manage" disabled>--><!--Management--><!--</md-switch>--><!--<md-switch ng-model="timeview.timesheet.skillset.leadership.training" aria-label="lead" disabled>--><!--Training--><!--</md-switch>--><!--</div>--><!--</div>--><!--</div>--><div layout-margin><a class="btn btn-default btn-lg btn-login" ng-click=timeview.back()>Back</a></div>'),a.put("app/usermaint/usermaint.html","<div>This is the usermaint view.</div>"),a.put("components/footer/footer.html",'<div class=container><p>Angular Fullstack v3.3.0-beta.0 | <a href=https://twitter.com/tyhenkel>@tyhenkel</a> | <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p></div>'),a.put("components/footer/footer.tp.html",'<footer layout-margin><div layout=row layout-align="center center"><div layout=row hide-xs layout-margin><!--this is where we will place our social media icons.--><div layout-margin><img src=./assets/images/linkedin_sm.99b595b4.png alt="linked IN"></div><div layout-margin><img src=./assets/images/twitter_sm.b1433ba2.png alt=twitter></div><div layout-margin><img src=./assets/images/wordpress_sm.5f4b11b0.png alt=wordpress></div><div layout-margin><img src=./assets/images/drop_box_sm.9323f35b.png alt="drop box"></div></div><span flex></span><div flex class=footer_info layout-margin align=right><h4>Yellow Toad<b1>Consulting</b1></h4><!--<h5>PO Box 264</h5>--><!--<h5>Caledonia MI 49316</h5>--><h5>info@yellowtoadconsulting.com</h5><!--<h5>616.204.0715</h5>--><h6>Copywright Yellow Toad Consulting LLC 2016</h6></div><!--<div flex>--><!--<div>--><!--<md-fab-speed-dial md-direction="left" class="md-scale">--><!--<md-fab-trigger>--><!--<md-button aria-label="Social Menu" class="md-fab md-warn share">--><!--<i class="mdi mdi-share-variant"></i>--><!--<md-tooltip md-direction="left" md-visible="tooltipVisible">Social Menu</md-tooltip>--><!--</md-button>--><!--</md-fab-trigger>--><!--<md-fab-actions>--><!--<md-button aria-label="LinkedIn" class="md-fab md-raised md-mini" ng-click="demo.openDialog($event, item)">--><!--<md-tooltip md-direction="left" md-visible="tooltipVisible" md-autohide="false">--><!--{{item.name}}--><!--</md-tooltip>--><!--<md-icon md-svg-src="" aria-label=""></md-icon>--><!--</md-button>--><!--</md-fab-actions>--><!--</md-fab-speed-dial>--><!--</div>--><!--</div>--></div></footer>'),a.put("components/login/login.tp.html",'<div layout=row layout-xs=column><div flex></div><div flex><md-toolbar class="md-table-toolbar md-default"><div class="md-toolbar-tools white-text"><span>Portal Login</span> <span flex></span><div><h5><a href=/signup>New User</a></h5></div><!--<div>{{contractordash.currentuser.first_name}} {{contratordash.currentuser.last_name}}</div>--><!--<md-button ng-if=!time.showform ng-click="time.showinputform()">Add Time</md-button>--><!--<md-button class="md-primary">Accent Hue 1</md-button>--><!--<div ng-if="!time.showform"><a ng-click="time.showinputform()"><i class="material-icons">playlist_add</i></a></div>--></div></md-toolbar><md-content ng-if=!login.isLoggedIn() layout-padding=""><div><form class=form name=form ng-submit=login.login(form)><div layout-gt-xs=row><md-input-container class=md-block flex-gt-sm=""><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Email (required)</label><input type=email name=email class=form-control ng-model=login.user.email required><div ng-messages=form.email.$error ng-hide=login.showHints><div ng-message-exp="[\'required\']">Email Required.</div></div></md-input-container></div><div layout-gt-xs=row><md-input-container class=md-block flex-gt-sm=""><!--<md-icon><i class="material-icons">perm_identity</i></md-icon>--><label>Password (required)</label><input type=password name=password class=form-control ng-model=login.user.password required><div ng-messages=form.password.$error ng-hide=login.showHints><div ng-message-exp="[\'required\']">Password Required.</div></div></md-input-container></div><div layout=row><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button><div flex=5 hide-xs="" hide-sm=""><!-- Spacer //--></div></div></form></div><div layout=row><p class=help-block>{{ login.errors.other }}</p></div></md-content></div><div flex></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarController><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="nav.isCollapsed = !nav.isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand>YTC Consultant Portal</a></div><div collapse=nav.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><!--<li ng-repeat="item in nav.menu" ui-sref-active="active">--><!--<a ui-sref="{{item.state}}">{{item.title}}</a>--><!--</li>--><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=admindash>Dashboard</a></li><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=admin>Users</a></li><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=po>Orders</a></li><!--<li ng-show="nav.isAdmin()" ui-sref-active="active"><a ui-sref="client">Clients</a></li>--><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=invoice>Invoices</a></li><li ng-show=nav.isClient() ui-sref-active=active><a ui-sref=clientdash>Dashboard</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-show=nav.isContractor() ui-sref-active=active><a ui-sref=contractordash>Dashboard</a></li><li ng-show=nav.isContractor() ui-sref-active=active><a href=timeentrydtl/{{nav.getCurrentUser()._id}}>Time Entry</a></li><li ng-hide=nav.isLoggedIn() ui-sref-active=active><a href=./login>Login</a></li><!--<li ng-show="nav.isLoggedIn()"><p class="navbar-text">Hello {{ getCurrentUser().first_name }}</p> </li>--><!--<li ng-show="nav.isLoggedIn()" ui-sref-active="active"><a ui-sref="settings"><span class="glyphicon glyphicon-cog"></span></a></li>--><li ng-show=nav.isLoggedIn()><a ui-sref=logout>Logout</a></li></ul></div></div><md-progress-linear md-mode=indeterminate ng-if=$root.loading></md-progress-linear></div>'),a.put("components/oauth-buttons/oauth-buttons.html",'<a ng-class=classes ng-click="OauthButtons.loginOauth(\'twitter\')" class="btn btn-social btn-twitter"><i class="fa fa-twitter"></i> Connect with Twitter</a>'),a.put("components/sidenav/sidenav.html",'<md-sidenav layout=column class="md-sidenav-left md-whiteframe-z2" md-component-id=left md-is-locked-open="$mdMedia(\'gt-md\')"><md-toolbar class="md-tall md-hue-2"><span flex></span><div layout=column class="md-toolbar-tools-bottom inset"><user-avatar></user-avatar><span></span><div>Firstname Lastname</div><div>email@domainname.com</div></div></md-toolbar><md-list><md-item ng-repeat="item in menu"><a><md-item-content md-ink-ripple layout=row layout-align="start center"><div class=inset><ng-md-icon icon={{item.icon}}></ng-md-icon></div><div class=inset>{{item.title}}</div></md-item-content></a></md-item><md-divider></md-divider><md-subheader>Management</md-subheader><md-item ng-repeat="item in admin"><a><md-item-content md-ink-ripple layout=row layout-align="start center"><div class=inset><ng-md-icon icon={{item.icon}}></ng-md-icon></div><div class=inset>{{item.title}}</div></md-item-content></a></md-item></md-list></md-sidenav>')}]);